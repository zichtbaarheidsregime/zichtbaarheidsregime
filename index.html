<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Het Zichtbaarheidsregime</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #e74c3c;
            --text-color: #2c3e50;
            --bg-color: #ffffff;
            --gray-light: #ecf0f1;
            --gray-medium: #bdc3c7;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--bg-color);
            font-size: 18px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 60px 40px;
            position: relative;
        }

        /* Mode Toggle */
        .mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .mode-toggle:hover {
            background: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        /* Meme Mode Styles */
        .meme-mode {
            position: relative;
        }
        
        /* Floating brainrot video box */
        .brainrot-box {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 320px;
            height: 240px;
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.3s ease;
            pointer-events: auto;
            border: 2px solid #333;
        }
        
        .meme-mode .brainrot-box {
            opacity: 1;
        }
        
        .brainrot-box video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            pointer-events: none;
        }
        
        .brainrot-box:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }
        
        /* TikTok-style overlay */
        .brainrot-overlay {
            position: absolute;
            bottom: 8px;
            left: 8px;
            right: 8px;
            background: linear-gradient(transparent, rgba(0,0,0,0.6));
            color: white;
            font-size: 10px;
            padding: 6px;
            border-radius: 4px;
            z-index: 2;
        }
        
        .brainrot-username {
            font-weight: bold;
            margin-bottom: 2px;
        }
        
        .brainrot-caption {
            font-size: 9px;
            opacity: 0.9;
            line-height: 1.2;
        }
        
        .brainrot-collapse-btn {
            position: absolute;
            top: 4px;
            right: 4px;
            background: rgba(0, 0, 0, 0.8);
            border: none;
            color: white;
            cursor: pointer;
            font-size: 14px;
            padding: 6px 8px;
            border-radius: 4px;
            transition: background 0.2s ease;
            z-index: 3;
            pointer-events: auto;
            font-weight: bold;
        }
        
        .brainrot-collapse-btn:hover {
            background: rgba(0, 0, 0, 0.9);
        }
        
        .brainrot-box.collapsed {
            width: 80px;
            height: 60px;
        }
        
        .brainrot-box.collapsed video,
        .brainrot-box.collapsed .brainrot-overlay {
            display: none;
        }
        
        .brainrot-box.collapsed::after {
            content: "📹";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            color: white;
        }



        .train-animation {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, 
                #1a1a1a 25%, transparent 25%, transparent 50%, 
                #1a1a1a 50%, #1a1a1a 75%, transparent 75%);
            background-size: 40px 40px;
            animation: trainMove 2s linear infinite;
            opacity: 0.3;
        }

        @keyframes trainMove {
            0% { background-position: 0 0; }
            100% { background-position: 40px 40px; }
        }

        /* Dedicated Chat Screen */
        .stream-chat {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 340px;
            height: 400px;
            max-width: calc(100vw - 40px);
            background: #0f0f23;
            border: 1px solid #464775;
            border-radius: 8px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transform: translateX(calc(100% + 20px));
            transition: transform 0.5s ease;
            z-index: 1000;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }

        .meme-mode .stream-chat {
            transform: translateX(0);
        }

        .chat-header {
            background: #18181b;
            color: white;
            padding: 12px 16px;
            border-bottom: 1px solid #464775;
            font-weight: bold;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chat-collapse-btn {
            background: none;
            border: none;
            color: #9147ff;
            cursor: pointer;
            font-size: 14px;
            padding: 2px 6px;
            border-radius: 3px;
            transition: background 0.2s ease;
        }
        
        .chat-collapse-btn:hover {
            background: rgba(145, 71, 255, 0.2);
        }
        
        .stream-chat.collapsed {
            height: auto;
        }
        
        .stream-chat.collapsed .chat-messages-container,
        .stream-chat.collapsed .chat-input-area {
            display: none;
        }

        .chat-title {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .viewer-count {
            color: #bf94ff;
            font-size: 12px;
            font-weight: normal;
        }

        .chat-messages-container {
            height: calc(100% - 100px);
            overflow-y: auto;
            padding: 8px;
            background: #0f0f23;
        }

        .chat-message {
            margin-bottom: 6px;
            font-size: 13px;
            line-height: 1.4;
            word-wrap: break-word;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .chat-message.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .chat-message .username {
            color: #bf94ff;
            font-weight: bold;
            margin-right: 4px;
        }

        .chat-message .message {
            color: #efeff1;
        }

        .chat-message.highlight {
            background: rgba(145, 70, 255, 0.1);
            border-radius: 4px;
            padding: 4px 6px;
            animation: highlight-flash 2s ease-in-out;
        }

        /* System and special message types */
        .chat-message.system { color: #9aa4ff; font-style: italic; }
        .chat-message.deleted { opacity: 0.6; text-decoration: line-through; }
        .chat-message.dono { background: rgba(255,215,0,.1); border-left: 3px solid gold; padding: 4px 6px; border-radius: 4px; }
        .chat-message.raid { background: rgba(145,70,255,.12); }
        .chat-message.pin { background: rgba(255,255,255,.05); border: 1px dashed #bf94ff; }

        .badge { font-size: 10px; padding: 1px 4px; border-radius: 3px; margin-right: 4px; }
        .badge.mod { background: #00ad03; color: #fff; }
        .badge.vip { background: #e91e63; color: #fff; }
        .badge.sub { background: #9146ff; color: #fff; }

        .chat-message.mod .username {
            color: #00ad03;
        }

        .chat-message.vip .username {
            color: #e91e63;
        }

        .chat-message.sub .username {
            color: #9146ff;
        }

        @keyframes highlight-flash {
            0%, 100% { background: rgba(145, 70, 255, 0.1); }
            50% { background: rgba(145, 70, 255, 0.3); }
        }

        /* Chat explosion/fight-open effects */
        .stream-chat.exploding::after {
            content: '';
            position: absolute;
            inset: 0;
            border: 2px solid #9147ff;
            border-radius: 8px;
            opacity: 0;
            pointer-events: none;
            animation: chat-burst 600ms ease-out forwards;
        }

        @keyframes chat-burst {
            0% { opacity: 0.8; box-shadow: 0 0 0 0 rgba(145, 71, 255, 0.7); }
            60% { opacity: 0.5; box-shadow: 0 0 30px 8px rgba(145, 71, 255, 0.5); }
            100% { opacity: 0; box-shadow: 0 0 0 0 rgba(145, 71, 255, 0); }
        }

        .chat-collapse-btn.fighting {
            animation: btn-wiggle 0.35s ease-in-out 2;
        }

        @keyframes btn-wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-12deg); }
            50% { transform: rotate(12deg); }
            75% { transform: rotate(-8deg); }
        }

        .chat-input-area {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: #18181b;
            border-top: 1px solid #464775;
            padding: 12px;
        }

        .chat-input {
            width: 100%;
            background: #464775;
            border: none;
            border-radius: 4px;
            padding: 8px 12px;
            color: white;
            font-size: 13px;
            outline: none;
        }

        .chat-input::placeholder {
            color: #adadb8;
        }

        .chat-input:focus {
            background: #5c5c87;
        }

        /* Scrollbar styling for chat */
        .chat-messages-container::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages-container::-webkit-scrollbar-track {
            background: #0f0f23;
        }

        .chat-messages-container::-webkit-scrollbar-thumb {
            background: #464775;
            border-radius: 3px;
        }

        .chat-messages-container::-webkit-scrollbar-thumb:hover {
            background: #5c5c87;
        }

        /* Meme Generator */
        .meme-selection-popup {
            position: fixed;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            z-index: 2000;
            cursor: pointer;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            border: 1px solid var(--accent-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .meme-selection-popup.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .meme-selection-popup:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
        }

        .meme-generator-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .meme-generator-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 900px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .meme-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        .meme-preview-area {
            display: flex;
            gap: 30px;
            margin-top: 20px;
        }

        .meme-controls {
            flex: 1;
        }

        .meme-preview {
            flex: 1;
            text-align: center;
        }

        .meme-canvas {
            border: 2px solid #ddd;
            border-radius: 10px;
            max-width: 100%;
        }

        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .template-option {
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }

        .template-option:hover, .template-option.selected {
            border-color: var(--accent-color);
            background: rgba(231, 76, 60, 0.1);
        }

        .template-preview {
            width: 100%;
            height: 80px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .tiktok-style { background: #000; }
        .linkedin-style { background: linear-gradient(135deg, #0077b5, #004182); }
        .twitter-style { background: #1da1f2; }
        .meme-classic { background: #333; }

        .export-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }

        .export-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .export-btn.primary {
            background: var(--accent-color);
            color: white;
        }

        .export-btn.secondary {
            background: #ddd;
            color: #333;
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .selected-text-display {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
            margin: 15px 0;
            font-style: italic;
        }

        /* Integrated Fingerprinting Mode */
        .fingerprint-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 500;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .fingerprint-overlay.active {
            opacity: 1;
        }

        .fingerprint-widget {
            position: fixed;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(250, 250, 250, 0.9));
            color: #2c3e50;
            padding: 20px 24px;
            border-radius: 16px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 14px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1), 0 2px 8px rgba(0, 0, 0, 0.05);
            opacity: 0;
            transform: translateY(10px) scale(0.95);
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            max-width: 320px;
            min-width: 280px;
            z-index: 1100;
            backdrop-filter: blur(20px);
            border: none;
        }

        .fingerprint-widget.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .fingerprint-widget h4 {
            color: #34495e;
            margin-bottom: 16px;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .fingerprint-widget h4::before {
            content: "👁️";
            font-size: 18px;
        }

        .fingerprint-data {
            color: #5a6c7d;
            line-height: 1.5;
            font-size: 13px;
        }

        .fingerprint-data-item {
            background: rgba(255, 255, 255, 0.6);
            padding: 10px 12px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 3px solid #3498db;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
        }

        .fingerprint-data-item:hover {
            background: rgba(255, 255, 255, 0.8);
            transform: translateX(2px);
        }

        .fingerprint-data .label {
            color: #34495e;
            font-weight: 500;
            font-size: 12px;
        }

        .fingerprint-data .value {
            color: #2c3e50;
            font-weight: 600;
            font-family: 'SF Mono', Consolas, monospace;
            font-size: 11px;
            background: rgba(52, 152, 219, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
            word-break: break-all;
        }

        .data-stream {
            background: rgba(255, 255, 255, 0.7);
            padding: 8px 12px;
            border-radius: 4px;
            margin: 3px 0;
            font-size: 9px;
        }

        /* Fingerprint widget positioning */
        .fp-widget-1 { 
            top: 15%; 
            right: 6%; 
            animation-delay: 0.2s;
        }
        .fp-widget-2 { 
            top: 15%; 
            left: 6%; 
            animation-delay: 0.4s;
        }
        .fp-widget-3 { 
            bottom: 15%; 
            right: 6%; 
            animation-delay: 0.6s;
        }
        .fp-widget-4 { 
            bottom: 15%; 
            left: 6%; 
            animation-delay: 0.8s;
        }

        /* Live fingerprint demo in story */
        .highlight-data {
            background: rgba(231, 76, 60, 0.1);
            color: var(--accent-color);
            font-weight: bold;
            padding: 2px 4px;
            border-radius: 3px;
        }

        .fingerprint-line {
            margin: 8px 0;
            padding: 6px 10px;
            background: rgba(52, 73, 94, 0.1);
            border-radius: 4px;
            border-left: 2px solid var(--accent-color);
        }

        .fp-label {
            color: var(--secondary-color);
            font-weight: bold;
            display: inline-block;
            width: 120px;
        }

        .fp-value {
            color: var(--accent-color);
            font-weight: normal;
        }



        .welcome-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 0;
            position: relative;
            overflow: hidden;
        }

        .welcome-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="1" fill="white" opacity="0.1"/><circle cx="80" cy="40" r="1" fill="white" opacity="0.1"/><circle cx="40" cy="80" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .welcome-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }

        .welcome-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(45deg, #fff, #f0f8ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            margin-bottom: 32px;
            opacity: 0.9;
            line-height: 1.6;
        }

        .experience-selector {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        .experience-option {
            background: rgba(44, 62, 80, 0.06);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(44, 62, 80, 0.2);
            color: var(--primary-color);
            padding: 20px 32px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            font-size: 16px;
            font-weight: 600;
            min-width: 200px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .experience-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .experience-option:hover::before {
            left: 100%;
        }

        .experience-option:hover {
            background: rgba(44, 62, 80, 0.12);
            border-color: rgba(44, 62, 80, 0.35);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .experience-option.active {
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
            border-color: var(--accent-color);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
        }

        .experience-icon {
            display: block;
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .experience-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .experience-desc {
            font-size: 0.9rem;
            opacity: 0.8;
            line-height: 1.3;
        }

        /* Mobile responsiveness for welcome header */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2rem;
            }
            
            .welcome-subtitle {
                font-size: 1rem;
            }
            
            .experience-selector {
                flex-direction: column;
                gap: 16px;
            }
            
            .experience-option {
                min-width: 280px;
                padding: 16px 24px;
            }
        }

        /* Main content mobile styles */
        @media (max-width: 768px) {
            .stream-chat {
                width: calc(100vw - 40px);
                height: 250px;
                bottom: 10px;
                right: 10px;
                left: 10px;
            }
            
            .chat-messages-container {
                height: calc(100% - 80px);
                padding: 6px;
            }
            
            .chat-message {
                font-size: 12px;
            }
            
            .fingerprint-widget {
                max-width: calc(100vw - 40px);
                min-width: calc(100vw - 40px);
                font-size: 13px;
                padding: 16px 18px;
                border-radius: 12px;
                left: 20px !important;
                right: 20px !important;
            }
            
            .fingerprint-widget h4 {
                font-size: 15px;
            }
            
            .fingerprint-data .value {
                font-size: 10px;
            }
            

            
            .fp-widget-1, .fp-widget-3 { 
                right: 10px; 
                left: auto;
                top: 20% !important;
                bottom: auto !important;
            }
            .fp-widget-2, .fp-widget-4 { 
                left: 10px; 
                right: auto;
                top: 60% !important;
                bottom: auto !important;
            }
            
            /* Mobile brainrot box adjustments */
            .brainrot-box {
                width: 280px;
                height: 180px;
                left: 10px;
            }
            
            .brainrot-box.collapsed {
                width: 70px;
                height: 50px;
            }
            
            .stream-chat {
                width: calc(100vw - 40px);
                right: 10px;
                left: 10px;
            }
        }

        .book-header {
            text-align: center;
            margin-bottom: 80px;
            padding-bottom: 40px;
            border-bottom: 3px solid var(--accent-color);
        }

        .book-title {
            font-size: 2.9em;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .book-subtitle {
            font-size: 1.3em;
            color: var(--secondary-color);
            font-style: italic;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5em;
            color: var(--primary-color);
            margin: 60px 0 30px 0;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent-color);
            position: relative;
        }

        h1::before {
            content: "";
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background-color: var(--accent-color);
        }

        h2 {
            font-size: 1.8em;
            color: var(--secondary-color);
            margin: 40px 0 20px 0;
            font-weight: 600;
        }

        h3 {
            font-size: 1.4em;
            color: var(--secondary-color);
            margin: 30px 0 15px 0;
            font-weight: 600;
        }

        p {
            margin-bottom: 20px;
            text-align: justify;
        }

        em {
            font-style: italic;
            color: var(--secondary-color);
        }

        strong {
            font-weight: bold;
            color: var(--primary-color);
        }

        blockquote {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 5px solid var(--accent-color);
            margin: 30px 0;
            padding: 25px 30px;
            font-style: italic;
            font-size: 1.1em;
            position: relative;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        blockquote::before {
            content: "\201C";
            font-size: 4em;
            color: var(--accent-color);
            position: absolute;
            top: -10px;
            left: 15px;
            opacity: 0.3;
        }

        ul, ol {
            margin: 20px 0 20px 30px;
        }

        li {
            margin-bottom: 8px;
        }

        .aforisme {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe3e3 100%);
            border: 2px solid var(--accent-color);
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
            font-style: italic;
            font-weight: 600;
            font-size: 1.1em;
            color: var(--primary-color);
            box-shadow: 0 4px 8px rgba(231, 76, 60, 0.2);
        }

        .meta-text {
            background-color: var(--gray-light);
            border-left: 4px solid var(--gray-medium);
            padding: 20px;
            margin: 25px 0;
            font-style: italic;
            color: var(--secondary-color);
        }

        .scene-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 20px;
            margin: 30px 0 20px 0;
            border-radius: 8px;
            font-weight: 600;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .case-study {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }

        .case-study h3 {
            color: var(--accent-color);
            margin-top: 0;
        }

        .navigation {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .navigation a {
            display: block;
            color: var(--primary-color);
            text-decoration: none;
            padding: 5px 0;
            font-size: 0.9em;
        }

        .navigation a:hover {
            color: var(--accent-color);
        }

        .footer {
            margin-top: 80px;
            padding-top: 40px;
            border-top: 2px solid var(--gray-light);
            text-align: center;
            color: var(--gray-medium);
        }

        @media (max-width: 768px) {
            .container {
                padding: 40px 20px;
            }
            
            .book-title {
                font-size: 2.5em;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .navigation {
                display: none;
            }
        }

        .toc {
            background-color: var(--gray-light);
            padding: 30px;
            margin: 40px 0;
            border-radius: 8px;
        }

        .toc h2 {
            margin-top: 0;
            color: var(--primary-color);
        }

        .toc ul {
            list-style: none;
            margin-left: 0;
        }

        .toc a {
            color: var(--secondary-color);
            text-decoration: none;
        }

        .toc a:hover {
            color: var(--accent-color);
        }
        
        /* Stego CSS shards (runtime-assembled; harmless if unused) */
        .z37-a::before { content: "ZmxhZ3thbG"; }
        .z37-b::before { content: "dvX2lzX3lvd"; }
        .z37-c::before { content: "V85ZjNhN2Yz"; }
        .z37-d::before { content: "YX0="; }
        .z37-s::after  { content: "7f3a9c2e"; }
    </style>
</head>
<body>


    <!-- Floating Brainrot Video Box -->
    <div class="brainrot-box" id="brainrotBox">
        <button class="brainrot-collapse-btn" onclick="toggleBrainrot()" id="brainrotCollapseBtn">−</button>
        <video id="brainrotVideo" autoplay muted loop playsinline>
            <source src="https://zichtbaarheidsregime.github.io/zichtbaarheidsregime/parkour.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div class="brainrot-overlay">
            <div class="brainrot-username">@parkour_beast</div>
            <div class="brainrot-caption">sick jumps bro 🔥💯 #parkour #freerunning</div>
        </div>
    </div>
    <!-- Dedicated Stream Chat -->
    <div class="stream-chat" id="streamChat">
        <div class="chat-header">
            <div class="chat-title">
                💬 CHAT
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
                <div class="viewer-count" id="viewerCount">12 viewers</div>
                <button class="chat-collapse-btn" onclick="toggleChat()" id="chatCollapseBtn">−</button>
            </div>
        </div>
        <div class="chat-messages-container" id="chatMessagesContainer">
            <!-- Chat messages will be dynamically added here -->
        </div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" placeholder="Type in chat..." disabled>
        </div>
    </div>

    <!-- Integrated Fingerprinting Overlay -->
    <div class="fingerprint-overlay" id="fingerprintOverlay">
        <!-- Fingerprint widgets will be dynamically added here -->
    </div>



    <!-- Meme Selection Popup -->
    <div class="meme-selection-popup" id="memeSelectionPopup">
        🔥 Maak Meme
    </div>

    <!-- Meme Generator Modal -->
    <div class="meme-generator-modal" id="memeGeneratorModal">
        <div class="meme-generator-content">
            <button class="meme-close" onclick="closeMemeGenerator()">&times;</button>
            <h2>🚀 Meme Generator</h2>
            <p>Maak je eigen viral content van deze quote!</p>
            
            <div class="selected-text-display" id="selectedTextDisplay">
                <!-- Selected text will appear here -->
            </div>
            
            <div class="meme-preview-area">
                <div class="meme-controls">
                    <h3>Kies Template:</h3>
                    <div class="template-grid">
                        <div class="template-option selected" data-template="tiktok" onclick="selectTemplate('tiktok')">
                            <div class="template-preview tiktok-style">QUOTE</div>
                            <div>TikTok Style</div>
                        </div>
                        <div class="template-option" data-template="linkedin" onclick="selectTemplate('linkedin')">
                            <div class="template-preview linkedin-style">QUOTE</div>
                            <div>LinkedIn Post</div>
                        </div>
                        <div class="template-option" data-template="twitter" onclick="selectTemplate('twitter')">
                            <div class="template-preview twitter-style">@user: QUOTE</div>
                            <div>Twitter Style</div>
                        </div>
                        <div class="template-option" data-template="classic" onclick="selectTemplate('classic')">
                            <div class="template-preview meme-classic">TOP TEXT<br>BOTTOM TEXT</div>
                            <div>Classic Meme</div>
                        </div>
                    </div>
                </div>
                
                <div class="meme-preview">
                    <h3>Preview:</h3>
                    <canvas id="memeCanvas" class="meme-canvas" width="540" height="540"></canvas>
                    
                    <div class="export-buttons">
                        <button class="export-btn primary" onclick="downloadMeme()">
                            📥 Download PNG
                        </button>
                        <button class="export-btn secondary" onclick="copyMemeCaption(event)">
                            📋 Copy Caption
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="book-header">
            <h1 class="book-title">Het Zichtbaarheidsregime</h1>
            <p class="book-subtitle">Hoe algoritmes onze werkelijkheid herstructureren</p>
            <div class="welcome-content">
                <p class="welcome-subtitle">
                    Kies je ervaring: wil je rustig lezen, of de chaos van de feed beleven?
                </p>
                <div class="experience-selector">
                    <button class="experience-option active" onclick="setMode('normal')" id="normalBtn">
                        <span class="experience-icon">📖</span>
                        <div class="experience-title">Rustig Lezen</div>
                        <div class="experience-desc">Focus op de tekst zonder afleiding</div>
                    </button>
                    <button class="experience-option active" onclick="setMode('meme')" id="memeBtn">
                        <span class="experience-icon">🌪️</span>
                        <div class="experience-title">Meme Mode</div>
                        <div class="experience-desc">Beleef de digitale stortvloed mee</div>
                    </button>
                </div>
            </div>
        </div>

        <div class="toc" id="inhoudsopgave">
            <h2>Inhoudsopgave</h2>
            <ul>
                <li><a href="#hoofdstuk-1">Hoofdstuk 1 — Het patroon</a></li>
                <li><a href="#hoofdstuk-2">Hoofdstuk 2 — De spiegel</a></li>
                <li><a href="#hoofdstuk-3">Hoofdstuk 3 — De machine</a></li>
                <li><a href="#hoofdstuk-4">Hoofdstuk 4 — De filosofische laag</a></li>
                <li><a href="#intermezzo">Intermezzo — De flight simulator van de feed</a></li>
                <li><a href="#hoofdstuk-5">Hoofdstuk 5 — Brede casussen</a></li>
                <li><a href="#hoofdstuk-6">Hoofdstuk 6 — De nieuwe spelregels</a></li>
                <li><a href="#hoofdstuk-7">Hoofdstuk 7 — Het meta-meta inzicht</a></li>
                <li><a href="#hoofdstuk-8">Hoofdstuk 8 — Slot / Spiegelzin</a></li>
                <li><a href="#hoofdstuk-9">Hoofdstuk 9 — De echo in de werkelijkheid</a></li>
                <li><a href="#epiloog">Epiloog — Homo algorithmicus</a></li>
                <li><a href="#nawoord">Nawoord — De grensgetuige</a></li>
            </ul>
        </div>

        <h1 id="hoofdstuk-1">Hoofdstuk 1 — Het patroon</h1>

        <div class="scene-header">Uur 0: de vonk</div>
        
        <p>Het is dinsdag, 16:20. Een jonge vrouw van 22 zit in haar studentenkamer in Amsterdam. Ze scrollt door haar FYP als ze het nieuws ziet over weer een femicide. Haar hart bonkt. Ze denkt aan die ene keer dat ze gevolgd werd vanaf de tramhalte. Aan die ex die bleef appen.</p>

        <p>Ze pakt haar telefoon. Geen script, geen plan. Gewoon: dit moet gezegd worden.</p>

        <p>Zacht pianogeluid eronder, een trending sound die ze vaak hoort, melancholisch maar niet te zwaar. Tekst in beeld, witte letters over een onscherpe straatlamp buiten haar raam:</p>

        <blockquote data-chat="dag-nul">Weer een vrouw vermoord. Hoeveel doden moeten er nog vallen?</blockquote>

        <p>Ze spreekt niet; haar gezicht is niet in beeld. Alleen de tekst, het geluid, en twintig seconden van pure, rauwe emotie. Het is oprecht. Het is persoonlijk. En vooral: het is aanstekelijk.</p>

        <p>Ze drukt op 'post' omdat het moet. Geen strategie, geen tactiek. Gewoon: dit moet gezegd worden.</p>
        <p>Binnen het eerste uur gebeurt er iets. De video wordt 200 keer bekeken, dan 500, dan 1.200. Watch time is hoog — mensen kijken het opnieuw, laten het doorlopen tot het einde. De comments ontploffen:</p>
        <ul>
            <li>"Ik voel dit zo hard 😭"</li>
            <li>"Dit is zo waar bestie😭😭"</li>
            <li>"Link naar cijfers pls???"</li>
            <li>"de comments zeggen ook weer veel"</li>
            <li>"Stop met aandacht zoeken ffs"</li>
            <li>"How to make this about me"</li>
        </ul>
        
        <h2 data-chat="t0-format">Uur 0: formatvorming</h2>
        
        <p>Andere makers zien de clip. Ze voelen de urgentie — oprecht, geen twijfel over. Maar hun hersenen registreren ook iets anders: hun eigen bereik van de afgelopen dagen. Vorige week deed hun gewone content het belabberd — een dansje hier (12 likes), een outfit daar (37 views). Maar deze video, met dit thema, deze sound... <strong>het loopt als de pest</strong>.</p>

        <p>Hun vingers weten het al voordat hun brein het doorheeft.</p>

        <p>Zonder vergadering, zonder WhatsApp-groepje, zonder bewuste imitatie ontstaat er binnen 24 uur een format. Het is zo voorspelbaar dat je er geld op kunt inzetten:</p>

        <ul>
            <li><strong>Hook in de eerste 2 seconden:</strong> "Weer een vrouw..." / "Hoeveel vrouwen moeten er nog..." / "Elke week opnieuw..."</li>
            <li><strong>Cijferporno in beeld:</strong> "1 op de 3 vrouwen" / "67 femicides dit jaar" / "Jouw dochter kan de volgende zijn"</li>
            <li><strong>Emotioneel achtergrondplaatje:</strong> straatlamp, leeg park, foto van slachtoffers (vaag genoeg om respectvol te lijken)</li>
            <li><strong>Die specifieke sound:</strong> de pianotrack die nu eigendom is van het femicide-discourse</li>
        </ul>

        <p>Geen enkele maker zegt hardop: "Ik ga de algo spelen voor bereik." Dat zou vulgair zijn. In plaats daarvan denken ze: "Ik moet hierover spreken. Dit raakt me. En trouwens, die sound past perfect bij mijn boodschap."</p>

        <p><strong>Vertaling:</strong> Hun brein heeft onbewust geleerd dat deze vorm loont. Dat is geen strategie — dat is operante conditionering, maar dan met een sociaal bewustzijn-sausje eroverheen.</p>

        <p>Een 19-jarige uit Groningen maakt haar versie: zelfde sound, zelfde tekststijl, maar nu over haar eigen angst om 's avonds naar huis te fietsen. 400.000 views in zes uur. Dopamine-jackpot! Een 30-jarige uit Rotterdam: haar verhaal over een vriend die haar stalkte, zelfde format. 670.000 views.</p>

        <p>Het format repliceert zich als een virus. Niet omdat iemand het bewust ontwerpt, maar omdat <strong>het klopt zoals een gokautomaat klopt</strong>. En iedereen die meedoet voelt zich sociaal bewust.</p>

        <h2>Uur 2: mechaniek wordt cultuur</h2>
        
        <p>Inmiddels is de FYP van tienduizenden Nederlandse vrouwen gevuld met variaties op hetzelfde thema. Dezelfde sound, dezelfde visuele stijl, dezelfde emotionele buildup. Maar elke video voelt persoonlijk, urgent, uniek.</p>

        <p>Makers beginnen subcategorieën te ontwikkelen:</p>
        <ul>
            <li><strong>Informatief:</strong> "Dingen die je moet weten over femicide"</li>
            <li><strong>Persoonlijk:</strong> "Mijn eigen ervaring met stalking"</li>
            <li><strong>Persoonlijk:</strong> "Waarom ik niet meer door het park hardloop"</li>
            <li><strong>Activistisch:</strong> "Wat we nu moeten doen"</li>
            <li><strong>Educatief:</strong> "Red flags die je moet herkennen"</li>
        </ul>

        <p>Allemaal binnen hetzelfde format. Allemaal met dezelfde sound.</p>

        <p>Een studente journalistiek uit Leiden merkt het patroon op. Ze besluit er een video over te maken — een "meta" take over hoe iedereen hetzelfde format gebruikt. Maar als ze het maakscherm opent, schuift TikTok automatisch de trending sound naar voren. De pianotrack staat bovenaan, met de tekst: "Trending in Nederland". De interface nodigt haar uit mee te doen.</p>

        <p>Ze aarzelt. Dan gebruikt ze toch die sound, maar met een andere invalshoek: "Waarom gebruiken we allemaal dezelfde sound voor femicide?" Het wordt haar best bekeken video ooit.</p>

        <h2 data-chat="t3-tegen">Uur 3: de tegenreactie</h2>
        
        <p>En dan gebeurt het mooiste. De tegenstem verschijnt.</p>

        <p>Een man van 24 uit Almere — laten we hem Jayden noemen — ziet al die femicide-content en denkt: "Fucking attention-seeking bullshit." Hij maakt een duet. Zijn kant van het scherm: hoofdschudden, oogrol, tekst over zijn hoofd: "Waarom maken jullie dit altijd over jezelf? 🙄" Plus wat ironische emoji's voor de ambiance.</p>

        <p>Jayden denkt dat hij slimmer is dan die "woke meiden." <strong>Maar nee:</strong> Jayden is het meest nuttige instrument van het algoritme.</p>

        <p>Binnen uren volgen er meer. Het is een copy-paste-festival:</p>
        <ul>
            <li><strong>Parodieën:</strong> overdreven emotionele imitaties ("Boehoe weer een vrouw vermoord 😭😭😭")</li>
            <li><strong>Rationele bros:</strong> "Statistieken kloppen niet" / "Mannen zijn ook slachtoffer" / "Waar zijn jullie bij zelfmoord?"</li>
            <li><strong>"Waarom zo dramatisch?":</strong> clips die de emotionele toon wegzetten als theater</li>
        </ul>

        <p><strong>Hier komt de moeder aller paradoxen:</strong> Juist de kritiek stuwt het onderwerp de ruimte in. Elke tegenreactie = engagement. Elke duet = distributie verdubbeld. Negatieve comments tellen voor het algoritme precies zo hard als positieve. <strong>Conflict is goud.</strong> Haat is een feature, geen bug.</p>

        <p>Een rechtse influencer met 50K followers maakt een satirische versie: zelfde piano-sound, maar tekst over "hoeveel mannen er dagelijks gedumpt worden door toxische vrouwen." Het gaat compleet viral onder zijn publiek — en ondertussen versterkt het de oorspronkelijke femicide-trend. TikTok's algoritme denkt niet: "Oh, dit is sarcasme." Het denkt: <strong>"FEMICIDE-CONTENT = HOT CONTENT = MEER FEMICIDE-CONTENT."</strong></p>

        <p>De makers van de oorspronkelijke femicide-video's kijken naar hun analytics en zien hun views exploderen. Ze denken: "Onze boodschap komt aan!" <strong>Maar nee:</strong> De haters maken gratis promo voor hun content, zonder dat beide kanten doorhebben hoe de machine werkt.</p>

        <h2 data-chat="crossover">Dag 4: crossover</h2>
        
        <p>Het is vrijdag. Het thema is de oorspronkelijke niche uitgegroeid. Lifestyle-influencers pakken het op ("veilig thuiskomen: mijn evening routine"), beauty-accounts ("red lipstick for solidarity"), zelfs fitness-creators ("zelfverdediging oefeningen").</p>

        <p>Humor-accounts maken satirische takes — niet per se om het onderwerp belachelijk te maken, maar omdat humor nu eenmaal hun brand is. Een populaire comedy-creator imiteert het format perfect, maar dan over "hoeveel pizza's er dagelijks vermoord worden". Het is grappig, het gaat viraal, en het houdt het femicide-thema in de lucht.</p>

        <p>Journalisten merken het op. NOS Stories maakt een explainer. RTL Nieuws interviewt een van de oorspronkelijke makers. De Volkskrant schrijft een artikel — maar hun online versie gebruikt korte quotes, emotionele klemtonen en visuele soundbites die verdacht veel lijken op de TikTok-stijl.</p>

        <h2 data-chat="system-weekend">Dag 5–7: systematisering</h2>
        
        <p>Het weekend brengt de volgende fase: organisatie. Feministische accounts beginnen te coördineren. Hashtags worden gestandaardiseerd (#femicideNL, #geenverderalleen). Er komen lijstjes ("5 tekenen van een gevaarlijke ex"), infographics ("cijfers over partnergeweld"), calls-to-action ("email je Tweede Kamerlid").</p>

        <p>Maar zelfs deze meer "serieuze" content volgt nog steeds het oorspronkelijke format. Zelfde sound, zelfde visuele opbouw, zelfde emotionele ritme. Het format is nu het medium geworden.</p>

        <p>Tegelijkertijd fragmenteert het. Randstad-accounts zien vooral activistische takes vol frustratie en urgentie. Provincie-accounts krijgen meer relativerende content, "nuance", of zelfs satirische varianten. Het algoritme heeft geleerd wie wat wil zien.</p>

        <h2 data-chat="week-1">Week 1: versnelling</h2>
        
        <p>De tweede week exploderen de variaties:</p>
        <ul>
            <li><strong>Mannenreacties:</strong> "Wij zijn ook bang 's nachts"</li>
            <li><strong>Internationale vergelijkingen:</strong> "Femicide in andere landen"</li>
            <li><strong>Historische perspectieven:</strong> "Vroeger was het erger/beter"</li>
            <li><strong>Politieke takes:</strong> "Dit komt door..."+favoriete boosdoener</li>
        </ul>

        <p>Elke reactie genereert tegenreacties. Elke tegenreactie trekt het onderwerp verder de mainstream in. De vorm — korte clips, emotionele hooks, snelle cuts — wordt de standaard voor hoe we over femicide spreken. Niet alleen online, maar ook op tv, in kranten, in gesprekken aan de keukentafel.</p>

        <p>Politici maken er video's over. Zelfde format. Activisten organiseren demonstraties die eruitzien als TikTok-shoots. Kranten illustreren hun verhalen met screenshots uit de viral clips.</p>

        <h2 data-chat="patroon-core">Het patroon (of: de meest voorspelbare machine ter wereld)</h2>

        <p>Wat hier in zeven dagen gebeurde, is het patroon dat nu door alle lagen van de samenleving vreet:</p>

        <ol>
            <li><strong>Vonk:</strong> Een concreet, emotioneel, deelbaar moment (iemand wordt oprecht geraakt)</li>
            <li><strong>Formatvorming:</strong> De vorm die bereik oplevert wordt onbewust gekopieerd (dopamine-brein leert: dit werkt!)</li>
            <li><strong>Tegenreactie:</strong> Kritiek en parodie versterken de distributie (conflict = engagement = goud)</li>
            <li><strong>Versnelling:</strong> Het thema metastaseert naar andere niches (alles wordt content)</li>
            <li><strong>Fragmentatie:</strong> Parallelle werkelijkheden zonder gedeelde arena</li>
        </ol>

        <p><strong>Dit is niet uniek voor femicide.</strong> Dit is de nieuwe grammatica van alle publieke discussie. In dit hoofdstuk is femicide de lens; in Hoofdstuk 5 zie je hetzelfde ritme terug bij andere thema's.</p>

        <p>We gebruiken hier femicide als casus, maar het mechaniek geldt breder — zie Hoofdstuk 5 voor dezelfde ritmes bij boerenprotesten, Gaza, klimaat, Ter Apel, corona, Zwarte Piet en Groningen.</p>

        <h2>De systemische doorwerking: van neuronen naar natie</h2>

        <p><strong>Hier is hoe het femicide-patroon zich door alle lagen verspreidt:</strong></p>

        <ul>
            <li><strong>Biologisch niveau:</strong> Dopamine-hits van viral content konditioneren beloningsmechanismen — mensen leren onbewust dat emotie + conflict = validatie</li>
            <li><strong>Gedragsniveau:</strong> Zelfexpressie wordt performatief — zelfs oprechte verontwaardiging volgt viral formats omdat die "aanvoelen" als de juiste manier om te communiceren</li>
            <li><strong>Cultureel niveau:</strong> Activisme, journalistiek, kritiek — alles krijgt hetzelfde ritme van korte emotionele pieken en tegenreacties</li>
            <li><strong>Institutioneel niveau:</strong> Media passen zich aan ("we moeten waar ons publiek is"), politici spreken in soundbites, ngo's optimaliseren campagnes voor shareability</li>
            <li><strong>Machtsniveau:</strong> De agenda wordt niet meer bepaald door parlement of redacties, maar door wat viraal gaat in de feeds</li>
        </ul>

        <h2>De werkelijke clou: niemand doorziet de machine</h2>

        <p><strong>De feministische creators</strong> denken dat ze bewustzijn creëren → ze zijn gratis content-leveranciers</p>
        <p><strong>De rechtse bros</strong> denken dat ze hypocrisie blootleggen → ze zijn gratis engagement-generatoren</p>
        <p><strong>De journalisten</strong> denken dat ze de trend duiden → ze zijn gratis amplificatie-machines</p>
        <p><strong>De academici</strong> denken dat ze reflectie brengen → ze zijn gratis LinkedIn-optimalisatie</p>

        <p>Iedereen voelt zich autonoom. Iedereen speelt perfect zijn rol in een script dat door een algoritme is geschreven.</p>

        <p>We noemen dit het <strong>zichtbaarheidsregime</strong>: een infrastructuur waarin wat zichtbaar is, belangrijker wordt dan wat waar is; waarin distributie vorm bepaalt, vorm betekenis wordt, en betekenis macht wordt.</p>

        <p>Het gevaarlijke is niet dat we polariseren over femicide. Het gevaarlijke is dat we vergeten dat dit hele gesprek plaatsvindt binnen een infrastructuur die ons ritme van denken en spreken al heeft vormgegeven — voordat we überhaupt beginnen te denken.</p>

        <p>De vorm dwingt mee: scène → opbouw → paradox → clou. Precies het ritme dat we bekritiseren.</p>

        <div class="aforisme">
            "Elke tegenstem is brandstof voor het vuur."
        </div>

        <h1 id="hoofdstuk-2">Hoofdstuk 2 — De spiegel</h1>

        <div class="scene-header">Scène: de kritische creator</div>

        <p>Het is woensdagochtend, 09:37. Een creator met 80K volgers zit aan zijn keukentafel met zijn latte en scrollt geïrriteerd door zijn feed. Al die clips over het topic van de week. Allemaal hetzelfde format, hetzelfde ritme. "Schapen," denkt hij. "Ze snappen niet dat ze in de fuik zitten."</p>

        <p>Tijd voor een reality check. Hij zet zijn camera aan en kijkt zijn volgers recht aan: "Jullie zitten met z'n allen in de fuik. Dit is precies wat het algoritme wil — jullie dansen naar de pijpen van de feed zonder het door te hebben." Hij spreekt gepassioneerd, authentiek, in precies twaalf seconden. Er staat een reflectieve track onder — netjes gesneden op deelbaarheid.</p>

        <p>Hij post het met de hashtags #kritischdenken #algoritme #wakker. Binnen drie uur: 67.000 views, 4.200 likes, 890 comments waarvan 80% "dit!" en "eindelijk iemand die het snapt!" Zijn beste post van de maand.</p>

        <p><strong>De ironie is zo pijnlijk dat het bijna kunst wordt:</strong> Bram waarschuwt voor de fuik in een perfecter geoptimaliseerd format dan de mensen die hij bekritiseert. Korte hook ✓ Trending sound ✓ Directe oogcontact ✓ Engagement-bait ✓ Moreel superioriteitsgevoel als unique selling point ✓</p>

        <p>Bram denkt dat hij boven het systeem staat. <strong>Maar nee:</strong> Hij <strong>is</strong> het systeem.</p>

        <h2>De explainer-journalist(e)</h2>

        <p>Drie dagen later pikt een redactie het onderwerp op. De mediacriticus wil een genuanceerd verhaal schrijven over hoe platform-trends echte discussies kapotmaken. Want dat is wat serieuze journalistiek doet: duiding brengen.</p>

        <p>"Voor bereik," zegt de redactie, maakt de journalist ook een short. Niet omdat het leuk is, maar omdat "je moet zijn waar je publiek is." Ze filmen in de redactie — laptop, boeken, professionele bril, toegankelijk maar autoriteit uitstralend. Tekst over het hoofd: "Waarom je platform-trends niet moet vertrouwen ⚠️" en "3 dingen die je moet weten over algoritmes 🧵"</p>

        <div class="case-study">
            <h3>Het format is een meesterwerk van onbewuste navolging:</h3>
            <ol>
                <li><strong>"Expert"-setting</strong> (kantoor, laptop, "ik weet iets wat jij niet weet"-vibe)</li>
                <li><strong>Hook met autoriteit</strong> ("Als journalist kan ik je vertellen...")</li>
                <li><strong>Drie bullets</strong> (altijd drie — het magic number voor retention dat ze "toevallig" gebruikt)</li>
                <li><strong>Call-to-action</strong> ("Link in bio voor het volledige verhaal")</li>
            </ol>
        </div>

        <p>Het gaat viral in de "intellectuele" hoek van de feed. 120.000 views, duizenden shares. Comments vol "eindelijk iemand met verstand!" De journalist voelt zich gevleid dat er "nuance is gebracht."</p>

        <p><strong>Wat niet gezien wordt:</strong> Het explainer-format is net zo algoritmisch geconditioneerd als de clips die bekritiseerd worden. Hook → bullets → authority-pose → engagement-bait. Rechtstreeks uit de feed-grammatica, maar dan met een superioriteitssausje.</p>

        <h2>De academische duiding (of: hoe je Bourdieu verTikTokized)</h2>

        <p>Professor mediawetenschappen Dr. Linda Hartevelt van de UvA (Twitter bio: "Onderzoeker digitale cultuur 🎓 | Spreker 🎤 | Thoughts my own") ziet Sannes artikel en raakt geïntrigeerd. Dit is exact het soort pattern dat zij al jaren onderzoekt! Perfect materiaal voor haar volgende paper.</p>

        <p>Ze schrijft een LinkedIn-post over haar observaties. Want zo doe je dat als academicus in 2025: eerst publiceren in het publieke debat, dan pas in peer-reviewed journals.</p>

        <div class="case-study">
            <h3>🧵 THREAD: Waarom we allemaal in de 'TikTok-fuik' zitten (en wat we eraan kunnen doen)</h3>
            
            <p>1/7: "Afgelopen week zag ik hoe een belangrijk maatschappelijk thema (femicide) werd 'gealgoritmed'. Wat ik observeerde was fascinerend... 👇"</p>

            <p>2/7: "Het meest interessante: ook de critici van deze trend gebruiken exact dezelfde algoritmische strategieën die ze beweren te doorzien 🤔"</p>

            <p>3/7: "Dit heeft alles te maken met wat Bourdieu 'habitus' noemt. Onze handelingen voelen autonoom, maar zijn eigenlijk door structuren bepaald..."</p>
        </div>

        <p>Elk punt van haar thread is precies de ideale lengte voor LinkedIn-engagement. Ze eindigt met een soft plug voor haar nieuwe paper ("More on this in my upcoming research") en een vraag aan haar netwerk ("Wat zijn jullie observaties?"). De post krijgt 2.400 likes, 340 shares, en 89 comments van collega-academici die haar gelijk geven.</p>

        <p>Linda voelt zich uitstekend over de academische diepgang die ze heeft gebracht. <strong>Plot twist:</strong> Ze heeft net Bourdieu's habitus-concept geïllustrateerd door haar eigen gedrag. Haar kritiek op algoritmische conditionering is verpakt in een format dat perfect is afgestemd op LinkedIn's engagement-algoritme.</p>

        <p>Ze heeft Bourdieu verTikTokized zonder het door te hebben.</p>

        <h2>De podcast-host</h2>

        <p>Een week later nodigt populaire podcast-host Tom Wesseling Dr. Hartevelt uit voor zijn show "De Digitale Waarheid." Tom heeft 400K subscribers en staat bekend om zijn kritische vragen over tech-bedrijven.</p>

        <p>"Linda," zegt hij in zijn intro, "jij onderzoekt hoe platforms ons gedrag beïnvloeden. Maar zijn wij niet allemaal een beetje hypocriet? Wij zitten hier in een podcast die geoptimaliseerd is voor een aanbevelingsalgoritme, en we hebben het over mensen die geoptimaliseerd zijn voor een ander aanbevelingsalgoritme."</p>

        <p>Het is een scherpe observatie. Maar de podcast zelf volgt alle regels van algoritmische optimalisatie:</p>
        <ul>
            <li><strong>Clickbait-titel:</strong> "Zitten WIJ ook in de fuik?"</li>
            <li><strong>Timestamp-optimalisatie:</strong> precies sweet spot voor het platform</li>
            <li><strong>Hook in de eerste 30 seconden:</strong> "Wat ik ga vertellen gaat je verbazen..."</li>
            <li><strong>Cliffhangers</strong> voor commercial breaks</li>
            <li><strong>Quote-cards</strong> gemaakt voor Instagram en LinkedIn</li>
        </ul>

        <p>Het gesprek is intelligent en genuanceerd. Maar het format is net zo geconditioneerd als de TikTok-trends die ze bekritiseren.</p>

        <h2>De documentairemaker</h2>

        <p>Dit alles inspireert documentairemaker Rosa Brinkman om een korte docu te maken: "Gevangen in de Feed." Ze interviewt Bram, Sanne, Linda, en een paar van de oorspronkelijke femicide-makers. Haar doel: laten zien hoe iedereen onbewust meespeelt met algoritmes.</p>

        <p>Maar als ze de montage maakt, merkt ze dat ook zij wordt beïnvloed door de logica van zichtbaarheid:</p>
        <ul>
            <li><strong>Korte scenes</strong> (attention span van YouTube/Netflix viewers)</li>
            <li><strong>Emotionele hooks</strong> aan het begin van elke act</li>
            <li><strong>"Gotcha"-momenten</strong> waar mensen hun eigen tegenstrijdigheid inzien</li>
            <li><strong>Visuele metaphors</strong> (fuiken, spiegels, mechanisme) die goed werken op social media</li>
        </ul>

        <p>De docu wordt geprezen om zijn "meta-reflectie." Maar niemand merkt op dat het format zelf een product is van dezelfde zichtbaarheidseconomie die het bekritiseert.</p>

        <h2>Het patroon in de spiegel (of: iedereen is een hoofdpersoon in zijn eigen film)</h2>

        <p>Laten we de score even opnemen:</p>

        <p><strong>Bram</strong> (woke influencer): waarschuwt voor de fuik in perfect trending format + morele superioriteit als USP</p>
        <p><strong>Sanne</strong> (Volkskrant): onthult algoritmische manipulatie via explainer-format dat algoritmisch geoptimaliseerd is</p>
        <p><strong>Linda</strong> (UvA professor): analyseert Bourdieu's habitus in LinkedIn-thread die Bourdieu's habitus perfect illustreert</p>
        <p><strong>Tom</strong> (podcast-bro): exposeert platform-bias in show die geoptimaliseerd is voor Spotify's algoritme</p>
        <p><strong>Rosa</strong> (documentairemaker): toont hoe iedereen onbewust meespeelt, in Netflix-format dat onbewust meespeelt</p>

        <p><strong>Het briljante:</strong> Geen van hen is hypocriet. Ze zijn slim, welbespraakt, hebben goede bedoelingen. Maar ze zitten allemaal in dezelfde existentiële komedie: je kunt alleen gehoord worden als je spreekt in de vormen die het systeem beloont. En die vormen bepalen uiteindelijk wat je überhaupt kunt zeggen.</p>

        <p>Ze zijn Bourdieu's <strong>habitus</strong> in levenden lijve. Wat voelt als "ik kies bewust voor dit format omdat het past bij mijn boodschap" is eigenlijk "mijn lichaam heeft geleerd wat werkt en doet dat automatisch." Ze spelen niet bewust het spel — <strong>ze zijn het spel geworden</strong>.</p>

        <h2>De fuik is geen plek, maar een ritme (en jij leest dit in dat ritme)</h2>
        
        <p>Het werkelijk pijnlijke inzicht: de fuik is geen externe structuur waar "andere mensen" in gevangen zitten. Het is een ritme dat we allemaal hebben geïnternaliseerd. Je voelt je vrij als je een video maakt, een artikel schrijft, een podcast opneemt. Maar je vrijheid speelt zich af binnen kaders van engagement, optimalisatie, zichtbaarheid.</p>

        <p><strong>De spiegel werkt beide kanten op:</strong></p>
        <ul>
            <li>Je kijkt naar anderen: "Kijk hoe zij geconditioneerd zijn!"</li>
            <li>Je kijkt naar jezelf: "Maar ik ben autonoom en kritisch!"</li>
        </ul>

        <p><strong>Maar nee:</strong> Je kritiek op hun conditionering is zelf geconditioneerd. Je waarschuwing voor de fuik gebruikt de grammatica van de fuik. Je roep om reflectie volgt het ritme van wat beloond wordt met zichtbaarheid.</p>

        <div class="meta-text">
            <strong>Meta-moment</strong><br>
            Herkenbare personages ✓ ironie ✓ opbouw naar clou ✓ screenshotbare aforisme ✓<br>
            Waarschuwen in precies de vormen die het systeem beloont.
        </div>

        <div class="aforisme">
            "Wie dit leest en denkt erbuiten te staan, speelt al mee. Niemand staat erbuiten."
        </div>

        <h1 id="hoofdstuk-3">Hoofdstuk 3 — De machine</h1>

        <div class="scene-header">Scène: de gokautomaat-metafoor (waarin een product manager per ongeluk eerlijk is)</div>

        <p>Het is vrijdagmiddag, 16:30, in een glazen vergaderruimte van TikTok Europe in Amsterdam. Sarah, senior product manager (LinkedIn: "Building the future of creative expression 🚀"), probeert aan drie nieuwe engineers uit te leggen hoe hun aanbevelingssysteem eigenlijk werkt. Op het whiteboard staat een tekening die ze niet in een externe presentatie zou durven laten zien: een gokautomaat.</p>

        <blockquote>
            "Vergeet alle PR-jargon over 'community building,'" zegt ze tegen de newbies. "Stel je voor: je loopt een casino binnen. Je ziet een gokautomaat, je gooit er een muntje in. Soms krijg je niets. Soms rinkelen er drie euro's uit. Soms een jackpot. Het punt is: je weet nooit precies wanneer, maar je weet dat het *kan* gebeuren. Dus je blijft maar gooien."
        </blockquote>

        <p>Ze wijst naar het schema. "Dat is operante conditionering in zijn puurste vorm. En dat is precies wat onze app doet, maar dan met views en likes in plaats van geld. En gratis in plaats van kostend."</p>

        <p>Een van de nieuwe engineers steekt zijn hand op: "Maar wij dwingen niemand om te posten of te kijken?"</p>

        <p>Sarah glimlacht het soort glimlach dat Silicon Valley-directeuren leren op leadership-trainings. "Nee, dat is het prachtige. We hoeven niemand iets op te leggen. We hoeven alleen maar te leren wat vanzelf voelt. <strong>Vrijheid is ons businessmodel.</strong>"</p>

        <p>Ze zegt het zonder ironie. Dat is het mooiste.</p>

        <h2>De vier pijlers van de machine (of: hoe je mensen leert dansen zonder dansles)</h2>

        <h3>1. Operante conditionering: het beloningssysteem (aka de psychische gokautomaat)</h3>

        <p>Je post een video. Er kunnen vier dingen gebeuren, en net als in Vegas zijn de odds tegen jou:</p>

        <ul>
            <li><strong>Niets</strong> (0-50 views): geen beloning, milde teleurstelling, "misschien volgende keer"</li>
            <li><strong>Kleine hit</strong> (50-500 views): paar likes, comments, dopamine-druppeltje, "oké, dit had potentie"</li>
            <li><strong>Middelmatige jackpot</strong> (500-5000 views): veel engagement, euforie, "holy shit dit werkt!"</li>
            <li><strong>Viral</strong> (5000+ views): totale dopamine-explosie, followers, gevoel van goddelijkheid</li>
        </ul>

        <p>Net als bij een gokautomaat weet je nooit wat je krijgt. Maar je reptielenbrein onthoudt crystal clear: <strong>deze beweging kan goud opleveren</strong>. Morgen post je weer, zonder plan, omdat de mogelijkheid van beloning letterlijk in je vingers zit gebakken.</p>

        <div class="case-study">
            <h3>Case study: Lisa uit Eindhoven, de onbedoelde mental health influencer</h3>
            
            <p>Lisa post normaal outfit-video's die 200-400 views krijgen. Saai, voorspelbaar, weinig engagement, niet erotisch prikkelend.  Dan heeft ze een kutdag en maakt ze spontaan een video over haar depressie — 12.000 views, 3700 likes, comments vol "ik herken dit zo!" en "dank je voor je eerlijkheid!"</p>

            <p>Haar brein noteert dit patroon onbewust: <strong>persoonlijk + kwetsbaar = algorithmic gold</strong>. De volgende week deelt ze weer iets persoonlijks ("mijn angstaanval van gisteren"). Weer viral. Dan nog een keer ("waarom ik therapie doe"). Binnen een maand is ze een "mental health influencer" geworden.</p>

            <p>Ze heeft niet bewust besloten: "Ik ga mijn trauma monetiseren." Haar brein heeft gewoon geleerd: kwetsbaarheid = bereik = dopamine = goed gevoel. Nu kan ze niet meer stoppen zonder het gevoel dat ze "irrelevant" wordt.</p>
        </div>

        <h3>2. UI-nudging: de architect van keuze (of: hoe je mensen laat denken dat ze vrij kiezen)</h3>

        <p>Open het maakscherm en kijk wat er gebeurt:</p>
        <ul>
            <li><strong>Trending sounds</strong> staan bovenaan (groot, kleurrijk, je kunt er niet omheen)</li>
            <li><strong>Viral effecten</strong> krijgen premium real estate</li>
            <li><strong>Hashtag-suggesties</strong> vullen automatisch aan (en "toevallig" zijn het trends)</li>
            <li><strong>Templates</strong> gebaseerd op wat recent viral ging (copy-paste maken kinderlijk eenvoudig)</li>
        </ul>

        <p>Je denkt: "Ik kies wat bij mijn boodschap past." <strong>Translation:</strong> De interface heeft je keuzes al gemaakt. Je krijgt de <em>illusie</em> van autonomie binnen een speelveld dat volledig is vormgegeven. Niet als dwang — veel slimmer. Als het pad van minste weerstand.</p>

        <div class="case-study">
            <h3>Hoe herken je nudging live?</h3>
            <ul>
                <li><strong>"Bovenaan"-patroon:</strong> trending audio/templates staan prominent in het maakscherm.</li>
                <li><strong>Auto-suggesties:</strong> hashtags/ondertitels worden voorgesteld en massaal overgenomen.</li>
                <li><strong>Vorm-convergentie:</strong> plots lijken honderden clips visueel/ritmisch op elkaar binnen 24–48u.</li>
            </ul>
        </div>

        <h3>3. Engagement-economie: alles telt</h3>

        <p>Het algoritme telt niet wat goed of slecht is — het telt wat vasthoudt:</p>

        <ul>
            <li><strong>Positieve reactie</strong> ("zo herkenbaar!"): +1 punt</li>
            <li><strong>Negatieve reactie</strong> ("dit is bullshit!"): +1 punt</li>
            <li><strong>Discussie in comments:</strong> +5 punten</li>
            <li><strong>Duets/stitches:</strong> +10 punten</li>
            <li><strong>Shares naar andere platforms:</strong> +15 punten</li>
        </ul>

        <p>Conflict is goud. Polarisatie is winst. Een video die iedereen een beetje leuk vindt, scoort slechter dan een video waar de helft van kijkt en de andere helft boos van wordt.</p>

        <div class="case-study">
            <h3>Voorbeeld uit de praktijk:</h3>
            <p>Een TikTok over "waarom avocado's slecht zijn voor het milieu" krijgt 50.000 views en 300 boze comments van avocado-liefhebbers die hun eigen counter-video's maken. Het algoritme interpreteert dit als: avocado-content is hot. Binnen dagen zitten de feeds vol avocado-discussies. Niet omdat iemand avocado's wil promoten of cancelen, maar omdat conflict engagement genereert.</p>
        </div>

        <h3>4. Cohort-routing: de onzichtbare sortering</h3>

        <p>Het systeem test jouw content eerst bij een kleine groep "mensen zoals jij." Wie zijn dat?</p>

        <ul>
            <li><strong>Geografisch:</strong> eerst Amsterdam, dan Randstad, dan Nederland</li>
            <li><strong>Demografisch:</strong> leeftijd, geslacht, opleidingsniveau (afgeleid van gedrag)</li>
            <li><strong>Interest-clustering:</strong> mensen die eerder vergelijkbare content liketen</li>
            <li><strong>Gedragspatronen:</strong> hoe lang kijken ze, waar stoppen ze, wat delen ze</li>
        </ul>

        <div class="case-study">
            <h3>Echte case:</h3>
            <p>Een video over "waarom Nederland een racismeprobleem heeft" wordt eerst getest bij 100 mensen in Amsterdam Noord van 20-30 jaar die eerder anti-discriminatie content liketen. Krijgt het veel engagement? Dan naar een bredere groep. Krijgt het veel negatieve reacties van 50+ kijkers in de provincie? Dan wordt die groep uitgefilterd, en blijft de video circuleren in de oorspronkelijke niche.</p>
        </div>

        <p><strong>Resultaat:</strong> verschillende delen van Nederland zien totaal verschillende versies van "wat er speelt." Niet door censuur, maar door optimalisatie voor engagement binnen groepen.</p>

        <h2>Het mechaniek van de machine</h2>

        <p>De kracht zit niet in dwang, maar in leren:</p>
        <ul>
            <li>Variabele beloning = verslavend</li>
            <li>Onmiddellijke feedback = sterke associatie</li>
            <li>Sociale validatie = belangrijker dan innerlijke voldoening</li>
            <li>Optimalisatiespiraal = constant zoeken naar "weer die high"</li>
        </ul>

        <h2>De machine heeft geen intentie</h2>

        <p>De machine wil niet polariseren, verslaven of democratie fragmenteren.</p>

        <p><strong>Ze wil één ding:</strong> engagement maximaliseren.</p>

        <p>De rest zijn bijeffecten, net zoals obesitas bij McDonald's.</p>

        <h2>Het einde van intentie</h2>

        <p>Geen complot, geen bewuste sturing.</p>

        <p><strong>Macht hier = infrastructuurmacht.</strong></p>

        <ul>
            <li>Discussies fragmenteren omdat conflict scoort</li>
            <li>Verslaving ontstaat door variabele beloning</li>
            <li>Oppervlakkigheid omdat nuance minder dopamine geeft</li>
        </ul>

        <p><strong>De machine is gevaarlijker dan een dictator, omdat ze geen agenda heeft.</strong></p>

        <h2>De grootste truc</h2>

        <p>Na verloop van tijd voelt de conditionering als je authentieke zelf.</p>

        <ul>
            <li>Checkdrang = "ik"</li>
            <li>Emotionele reflex = "mijn karakter"</li>
            <li>Trends volgen = "mijn creativiteit"</li>
        </ul>

        <p><strong>Bullshit.</strong> De machine woont in je lichaam. Jij bent je eigen gokautomaat geworden.</p>

        <div class="meta-text">
            <strong>Meta-meta paradox</strong><br>
            Ook dit hoofdstuk volgt algoritmische logica: scherpe voorbeelden ✓ aforisme ✓ shareable quotes ✓<br>
            Zelf de analyse wordt content. De fuik slokt zijn eigen dissectie op.
        </div>

        <div class="aforisme">
            "Een algoritme hoeft je niets op te leggen: het hoeft je alleen te leren wat vanzelf voelt."
        </div>

        <h1 id="hoofdstuk-4">Hoofdstuk 4 — De filosofische laag</h1>

        <div class="scene-header">Scène: keukentafel met boeken en laptop</div>
        <p>Drie theorieboeken opgestapeld, TikTok open op pauze. Vraag: "Leg dit eens uit zonder jargon."</p>

        <h2>Vijf sleutels</h2>

        <h3>Foucault — macht door kaders</h3>
        <p>Macht is niet alleen verbod, maar vooral: wat zichtbaar en zegbaar wordt. Platforms sturen de kaders van zichtbaarheid.</p>

        <h3>Bourdieu — habitus als aangeleerde natuur</h3>
        <p>Wat voelt als "mijn stijl" is vaak gedrag dat eerder beloond werd. Makers handelen binnen rails die vanzelfsprekend lijken.</p>

        <h3>Gramsci — hegemonie als vanzelfsprekend spel</h3>
        <p>De regels lijken natuurlijk: niemand zegt "we volgen algoritmische hegemonie." Iedereen zegt: "zo werkt het nu eenmaal."</p>

        <h3>Zuboff — elke klik is grondstof</h3>
        <p>Elke interactie wordt behavioural surplus: grondstof voor de economie van infrastructuurmacht.</p>

        <h3>Baudrillard — representatie boven realiteit</h3>
        <p>We reageren meer op beelden, memes, posts dan op gebeurtenissen zelf. De post is de gebeurtenis.</p>

        <div class="meta-text">
            Samen: dit is het zichtbaarheidsregime — een ordening waarin zichtbaarheid waarheid vervangt, en infrastructuurmacht het ritme schrijft.
        </div>

        <div class="aforisme">"We geloven dat we kijken naar de wereld, terwijl we vooral kijken naar de voorwaarden die bepalen wat zichtbaar wordt."</div>

        <h2>Dagelijkse vertalingen (zonder jargon)</h2>
        <ul>
            <li><strong>Foucault:</strong> niet censuur, maar interface-keuzes bepalen wat je doet.</li>
            <li><strong>Bourdieu:</strong> "dit ben ik" = wat gisteren bereik gaf.</li>
            <li><strong>Gramsci:</strong> "zo werkt internet" is geen feit, maar hegemonie.</li>
            <li><strong>Zuboff:</strong> jij scrolt, de machine schrijft mee in haar boekhouding.</li>
            <li><strong>Baudrillard:</strong> we ruziën over posts, niet over de werkelijkheid.</li>
        </ul>

        <h2>Twee extra lenzen</h2>

        <h3>Žižek — cynische rede</h3>
        <p>We weten dat we meespelen ("ik speel het spel niet mee… behalve nu even"). Dat bewustzijn bevrijdt niet; het smeert de machine.</p>

        <h3>McLuhan — medium-grammatica</h3>
        <p>Niet de inhoud, maar de vorm bepaalt hoe we denken. Ritme > inhoud.</p>

        <h2>Systeemwetten (blijven gelden)</h2>

        <ul>
            <li>Engagement = energie-eenheid</li>
            <li>Negatief = positief</li>
            <li>Vergeten is noodzakelijk</li>
            <li>Format = macht</li>
            <li>Conditionering → cultuur → natuur</li>
        </ul>

        <h1 id="intermezzo">Intermezzo — De flight simulator van de feed</h1>

        <div class="scene-header">Scène: vrijdagavond in Utrecht</div>
        <p>Twee vrienden, Milan (24, politicologie) en Jasper (23, horeca), zitten aan de keukentafel met twee splinternieuwe telefoons. Ze hebben een plan: "Wat nou als we TikTok zelf eens uittesten, maar dan écht eerlijk?"</p>

        <p>Ze openen tegelijk een nieuw account. Geen vrienden, geen interesses aangeklikt, geen likes. Blanco. <em>We swipen gewoon precies hetzelfde, dan moet de feed ook hetzelfde worden, toch?</em></p>

        <p>Om menselijke ruis te vermijden gebruiken ze een klein script — een soort flight simulator voor TikTok. Geen menselijke duim, maar een programma dat een gebruiker nadoet:</p>
        <ul>
            <li>soms acht seconden kijken, soms tien</li>
            <li>heel af en toe een halve minuut blijven hangen</li>
            <li>een enkele rewatch</li>
            <li>soms kort de comments open, maar alleen bij katten, recepten of muziek — nooit politiek</li>
        </ul>
        <p>Steriel gedrag. Alsof een testpop door een pretpark loopt.</p>

        <p>Na een uur liggen er 500 swipes achter ze. De telefoons naast elkaar op tafel, schermen nog warm. En dan de verrassing.</p>

        <p>Bij Milans iPhone 15 (Volkskrant-app geïnstalleerd) verschijnen feministische memes, klimaatactivisme, linkse commentary.</p>
        <p>Bij Jaspers Samsung A52 (met Telegraaf-app) verschijnen boerenprotest-clips, satire tegen "Randstad-woke", rechtse commentary.</p>

        <p><strong>Zelfde swipes, zelfde tijden, zelfde ritme. Toch totaal verschillende feeds.</strong></p>

        <h2 id="wat-dit-blootlegt">Wat dit blootlegt</h2>
        <p>Milan fronst: "Wacht even… dus het lag niet aan wat we deden?" Nee. De machine keek niet alleen naar hun gedrag, maar naar hun vingerafdruk: toestel, apps, locatie, netwerk. Alsof het algoritme fluistert: "Jij komt via dit poortje binnen, dus dit is jouw wereld."</p>

        <p>Zoals een pretpark met verschillende ingangen. Je denkt vrij te lopen, maar je route is al voorgesteld.</p>

        <h2>De ongemakkelijke clou</h2>
        <p>Ze dachten een neutraal experiment te doen, maar de fuik stond klaar vóór de eerste swipe.</p>
        <p>Nog voor ze kozen, waren ze al geprofileerd. Nog voor hun autonomie begon, had de machine het pad getekend.</p>
        <p>Milan zegt zacht: "Dus zelfs als ik niks doe, ben ik al iemand in hun systeem."</p>

        <div class="live-fingerprint-demo" id="liveFingerprint" style="margin: 40px 0; padding: 20px; background: rgba(44, 62, 80, 0.1); border-left: 4px solid var(--accent-color); border-radius: 5px;">
            <h3 style="color: var(--accent-color); margin-bottom: 15px;">🔍 Jouw digitale vingerafdruk — live</h3>
            <p style="font-style: italic; margin-bottom: 15px;">Terwijl je dit leest, verzamelt deze pagina precies de data die Milan en Jasper's feeds al bepaalde:</p>
            <div id="readerFingerprint" style="font-family: 'Courier New', monospace; font-size: 13px; line-height: 1.6;">
                <!-- Live fingerprint data will be inserted here -->
            </div>
        </div>

        <p><strong>En dat is precies wat er met jou gebeurt.</strong> Nog voor je eerste scroll was je al gecategoriseerd. De machine heeft je profiel al geschreven op basis van je apparaat, je browser, je schermresolutie, je geïnstalleerde fonts. Je bent niet <em>Milan</em> met een iPhone, maar <span id="yourDevice" class="highlight-data">jouw unieke combinatie</span> heeft al bepaald welke kant je "vrije" verkenning zal uitgaan.</p>

        <h1 id="hoofdstuk-5">Hoofdstuk 5 — Brede casussen</h1>

        <div class="scene-header">Scène: een avond in de trein</div>

        <p>Buiten glijdt Nederland langs: velden, flats, industrie, dorpen. Binnen op je scherm een snelmontage van het land. De feed laat telkens hetzelfde ritme zien — andere onderwerpen, dezelfde machine.</p>

        <p>Dit hoofdstuk werkt per casus hetzelfde schema uit:</p>

        <ol>
            <li><strong>Vonk</strong></li>
            <li><strong>Formatvorming</strong></li>
            <li><strong>Tegenreactie</strong></li>
            <li><strong>Versnelling</strong></li>
            <li><strong>Fragmentatie</strong></li>
        </ol>

        <p><strong>Onder de motorkap:</strong> Cohort-splitsing • Meetbare proxies</p>

        <h2>Boerenprotesten</h2>

        <div class="scene-header">Scène: een drone-shot van een stoet tractoren over provinciale wegen. Close-up: een boerin met tranen die uitlegt dat de toekomst van het familiebedrijf op het spel staat. Pianotrack. Tekst in beeld: "Wij zijn geen cijfers."</div>

        <ul>
            <li><strong>Vonk:</strong> emotionele getuigenissen en spectaculaire beelden (tractoren blokkeren snelwegen).</li>
            <li><strong>Formatvorming:</strong> herhaalbare formules — hook (2 sec), kaartje met stikstofzones, emoji's, slogan-hashtags (#trotsopdeboer).</li>
            <li><strong>Tegenreactie:</strong> klimaat-accounts en stedelijke creators: "Privilegetheater", satire op tractorfetisj.</li>
            <li><strong>Versnelling:</strong> lifestyle- en humor-accounts doen mee; legacy media embedden TikToks.</li>
            <li><strong>Fragmentatie:</strong> agro-pride vs. stedelijke ironie; parallelle feeds die elkaar alleen treffen via stitches.</li>
        </ul>

        <div class="case-study">
            <h3>Onder de motorkap:</h3>
            <ul>
                <li><strong>Conditionering:</strong> spectaculaire voertuigen + herkenbare gezichten → hoge rewatch, instant beloning.</li>
                <li><strong>UI-nudge:</strong> trending country-sounds en protest-sjablonen.</li>
                <li><strong>Engagementlogica:</strong> verontwaardiging over blokkades vs. verzet tegen beleid = lange comment threads.</li>
                <li><strong>Cohort-routing:</strong> provinciecohorten krijgen trots/identiteit; Randstadcohorten krijgen satire/beleid.</li>
            </ul>
            
            <h4>Meetbare proxies:</h4>
            <ul>
                <li>Hashtag-curve (#boerenprotest, #stikstof) met pieken rond acties.</li>
                <li>Sound-adoptie van 1–2 protesttracks binnen 24–48u.</li>
                <li>Comment-per-view ratio hoog; duet/stitch-dichtheid stijgt na elke actie.</li>
            </ul>
        </div>

        <h2>Gaza</h2>

        <div class="scene-header">Scène: een 15-seconden clip van een jongere die huilt om familie aan de andere kant; daarna een carrousel met statistiek-slides. Hook: "Kijk dit alsjeblieft uit."</div>

        <ul>
            <li><strong>Vonk:</strong> persoonlijke noodkreten, hyper-lokale beelden, vertalingen van live-updates.</li>
            <li><strong>Formatvorming:</strong> slides met cijfers/kaarten, lijstjes "wat jij kunt doen", stitches met fact-checks.</li>
            <li><strong>Tegenreactie:</strong> felle counter-narratives, whataboutism, "context"-clips.</li>
            <li><strong>Versnelling:</strong> internationale creators, diaspora-netwerken, media embedden virals.</li>
            <li><strong>Fragmentatie:</strong> feeds scheiden zich in partijdige realiteiten; cross-over bestaat vooral uit ruzie-stitches.</li>
        </ul>

        <div class="case-study">
            <h3>Onder de motorkap:</h3>
            <ul>
                <li><strong>Conditionering:</strong> intense emotie + morele urgentie = hoge dwell time.</li>
                <li><strong>UI-nudge:</strong> trending humanitarian sounds/filters; auto-subtitles voor shareability.</li>
                <li><strong>Engagementlogica:</strong> polarisatie beloont — elke tegenclip verdubbelt distributie.</li>
                <li><strong>Cohort-routing:</strong> diaspora, politieke interesse, religieuze markers → sterke interest-clusters.</li>
            </ul>
            
            <h4>Meetbare proxies:</h4>
            <ul>
                <li>Plotse sprongen in hashtag-paren (#freeX vs. #standwithY).</li>
                <li>Explosie in duet/stitch-grafen tussen tegengestelde kampen.</li>
                <li>Comment-velocity spikes bij controversiële claims.</li>
            </ul>
        </div>

        <h2>Ter Apel (asielopvang)</h2>

        <div class="scene-header">Scène: een nachtelijk filmpje van lange rijen buiten. Fluisterstem: "Dit is Nederland." Tekst: "niemand zou zo moeten slapen."</div>

        <ul>
            <li><strong>Vonk:</strong> rauwe beelden, nabijheid, nachtlicht.</li>
            <li><strong>Formatvorming:</strong> testimonial + kaartje + call-to-action.</li>
            <li><strong>Tegenreactie:</strong> "eigen volk eerst"-frames, misdaad-anekdotes, "waarom hierover wel/emoties selectief".</li>
            <li><strong>Versnelling:</strong> lokale accounts, buurtgroepen, regionale media.</li>
            <li><strong>Fragmentatie:</strong> humanitaire framing vs. orde/veiligheid-framing zonder overlap.</li>
        </ul>

        <div class="case-study">
            <h3>Onder de motorkap:</h3>
            <ul>
                <li><strong>Conditionering:</strong> nabij lijden = hoge share-intentie.</li>
                <li><strong>UI-nudge:</strong> location stickers, lokale hashtags.</li>
                <li><strong>Engagementlogica:</strong> identiteit/veiligheid triggert polariserende comments.</li>
                <li><strong>Cohort-routing:</strong> regio-first distributie → nationaal pas na lokale traction.</li>
            </ul>
            
            <h4>Meetbare proxies:</h4>
            <ul>
                <li>Lokale hashtag-sprongen (#terapel) vóór nationale.</li>
                <li>Comment-splits (empathie vs. veiligheid) met vergelijkbare volumes.</li>
                <li>Regionale creators outsize nationaal gedurende 24–48u.</li>
            </ul>
        </div>

        <h2>Zwarte Piet</h2>

        <div class="scene-header">Scène: huilend kind zonder zwarte piet op school; daarna een jongere die vertelt over racisme in de supermarkt.</div>

        <ul>
            <li><strong>Vonk:</strong> contrasterende emotionele beelden (onschuld vs. discriminatie).</li>
            <li><strong>Formatvorming:</strong> side-by-side stitches, geschiedenis-slides, schoolplein-video's.</li>
            <li><strong>Tegenreactie:</strong> traditie-frames, "het is voor kinderen"-argument, satire.</li>
            <li><strong>Versnelling:</strong> lokale incidenten worden nationale markers.</li>
            <li><strong>Fragmentatie:</strong> culturele identiteit vs. antiracisme, nauwelijks cross-pollinatie.</li>
        </ul>

        <div class="case-study">
            <h3>Onder de motorkap:</h3>
            <ul>
                <li><strong>Conditionering:</strong> kinderemotie = maximale shareability.</li>
                <li><strong>UI-nudge:</strong> seizoensgebonden trending effects.</li>
                <li><strong>Engagementlogica:</strong> identiteitsbotsingen = eindeloze threads.</li>
                <li><strong>Cohort-routing:</strong> regio/etniciteit/mediagebruik clusteren vroeg.</li>
            </ul>
            
            <h4>Meetbare proxies:</h4>
            <ul>
                <li>Seizoenspiek in hashtagfamilies (#intochten, #zwartepiet).</li>
                <li>Duet-dichtheid tussen kampen.</li>
                <li>Toename van school/ouders-accounts in het netwerkgrafiek.</li>
            </ul>
        </div>

        <div class="case-study">
            <h3>Casus 3 — Rage-bait in real time (herzien)</h3>
            <div class="scene-header">Scène: Los Angeles, 23 augustus 2025</div>
            <p>In een kleine zaal van KnokX Pro Wrestling in Sun Valley staat Raja Jackson (25), zoon van UFC-legende Quinton "Rampage" Jackson, oog in oog met de chat van duizenden kijkers op Kick. De scène ontvouwt zich live — niet met toeschouwers, maar mét publiek via tekst en emoji's die als een gedreven stem fungeren:</p>
            <p>"W als je denkt dat ik 'm kan pakken." "50 subs als je 'm knockt."</p>
            <p>Raja’s blik toont geen twijfel… "They told me to hit the guy… I'm gonna hit him as many times as I can… I'm not gonna fake it." En dan volgt de explosie: een lift, een slam, en daarna meer dan twintig rake klappen, terwijl Syko Stu roerloos op de mat blijft liggen, stikkend in zijn eigen bloed en tanden. De chat reageert niet op wat volgt — zij zijn de kracht vóór de clou.</p>

            <h4>Waarom dit moment uniek is</h4>
            <p>Dit is geen voorbeeld van het klassieke ritme (vonk → format → tegenreactie → versnelling → fragmentatie). Dit is de feed die niet alleen elke slag zendt, maar het geweld veroorzaakt voordat het plaatsvindt:</p>
            <ul>
                <li><strong>Onmiddellijke beloning door chat:</strong> donaties, virtuele juichmomenten, direct sturend op gedrag.</li>
                <li><strong>Conditionering live:</strong> elke reactie transformeert het publiek in de auteur van de actie.</li>
                <li><strong>De chat als macht:</strong> geen externe algoritme, maar collectief handelen — zichtbaar, tastbaar, en onveranderbaar.</li>
            </ul>

            <p>Maar de ironie is dodelijk: dezelfde chat die hem opzweept, maakt hem ook af.</p>
            <ul>
                <li><strong>Viral veroordeling:</strong> de clips die zijn high brachten, worden uren later bewijsmateriaal van poging tot moord.</li>
                <li><strong>Cancel-loop:</strong> hashtags verschuiven van #WRAJA naar #BanRaja, trending in exact dezelfde ritmes.</li>
                <li><strong>Reputatie als content:</strong> zijn naam wordt meme, zijn gezicht reaction-template, zijn falen distributie-brandstof.</li>
                <li><strong>Feedback naar instanties:</strong> media, sponsors en politie grijpen in, geleid door dezelfde beelden die de chat zelf verspreidde.</li>
            </ul>

            <h4>De harde clou</h4>
            <p>Geen theater, maar fysieke overgave aan de feed: een mens (Raja) wordt gestuurd door een crowd die via chat zijn handelen dicteert. Zichtbaarheid dwingt gedrag, en realiteit, eenmaal gezien, sleurt paradigma's mee.</p>

            <div class="aforisme">"Zelfs in deze live misdaad is de chat niet slechts toeschouwer. Zij is architect, motor én publiek — het algoritme in visuele vorm."</div>
            En het meest beangstigende: we zien het gebeuren en blijven kijken.
        </div>

        <h2>Samenvatting van het patroon</h2>

        <p><strong>Altijd hetzelfde ritme:</strong></p>
        <p>1. Vonk → 2. Formatvorming → 3. Tegenreactie → 4. Versnelling → 5. Fragmentatie.</p>

        <p><strong>Onderliggend:</strong> operante conditionering, UI-nudging, engagementlogica, cohort-routing. De feed dicteert de choreografie; wij vullen de rollen in.</p>

        <div class="aforisme">
            "Altijd hetzelfde ritme: vonk → format → tegenreactie → versnelling → fragmentatie."
        </div>

        <h1 id="hoofdstuk-6">Hoofdstuk 6 — De nieuwe spelregels</h1>

        <div class="scene-header">Scène: twee arena's, één winnaar</div>

        <p>Het is donderdag, 14:00. In de Tweede Kamer debatteert een commissie over digitale veiligheid. Kamerlid Pieter Omtzigt (NSC) houdt een genuanceerd betoog van acht minuten over de complexiteit van content-moderatie. Hij verwijst naar juridische precedenten, internationale verdragen, en de spanning tussen vrijheid van meningsuiting en bescherming van kwetsbaren.</p>

        <p>Op exact hetzelfde moment streamt influencer Milan (400K followers) live vanuit zijn auto. Hij reageert op het debat: "Politici snappen er helemaal niks van! Ik leg het uit in 60 seconden." Hij gebruikt de camera's face-to-face functie, spreekt direct zijn viewers aan, en eindigt met: "Wat vinden jullie? React in de comments!"</p>

        <p><strong>Guess what:</strong> Milan's stream heeft 12.000 live viewers. Het parlementsdebat heeft 400 kijkers op NPO Politiek.</p>

        <p><strong>Guess what else:</strong> Morgenochtend citeert de Volkskrant niet Jasper's achtminuten-betoog, maar Milan's 60-seconden-take. Want die is "wat mensen bezig houdt."</p>

        <h2 data-chat="kamer-vs-feed">Contrast-scène: oude vs. nieuwe politicus</h2>

        <div class="case-study">
            <h3>De overgangsfiguur (oude variant):</h3>
            <p>zit nog met stapels dossiers en interrupties in de Kamer, maar voelt dat het echte gevecht buiten de zaal wordt beslist. Hij knipt zijn betoog in soundbites. Na afloop vraagt hij: "Zat er een clip in?"</p>
            <ul>
                <li><strong>Motivatie:</strong> agenda zichtbaar krijgen nu media niet vanzelf naar de Kamer kijken.</li>
                <li><strong>Conditionering:</strong> leert dat 15 seconden hamerzin meer bereik heeft dan 15 minuten argumentatie.</li>
                <li><strong>Gevolg:</strong> beleidspraat wordt verpakking voor een knipmoment.</li>
                <li><strong>Ironie:</strong> parlementaire vorm blijft, maar is ondergeschikt aan het fragment.</li>
            </ul>
        </div>

        <div class="case-study">
            <h3>De feed-native (nieuwe variant):</h3>
            <p>komt binnen met telefoon in de hand. De Kamer is decor. Elke zin is een clip: hook, pauze voor effect, blik in camera. De zaal is stil; online ontploft de draad. Tegenstanders die het belachelijk vinden? Dubbel bereik.</p>
            <ul>
                <li><strong>Motivatie:</strong> legitimiteit via zichtbaarheid en fanbase.</li>
                <li><strong>Conditionering:</strong> spreektijd = shorts-script, niet betoog.</li>
                <li><strong>Gevolg:</strong> representatie wordt performance; macht volgt uit ritme.</li>
                <li><strong>Ironie:</strong> kritiek op soundbite-politiek verschijnt als soundbite.</li>
            </ul>
        </div>

        <h2>De drie grote verschuivingen <br>(hoe de werkelijkheid werd gehackt)</h2>

        <h3>1. Van waarheid → zichtbaarheid</h3>
        
        <p><strong>Voor:</strong> "Dit is waar, dus dit hoort gehoord te worden"<br>
        <strong>Nu:</strong> "Dit wordt gehoord, dus dit moet waar genoeg zijn"</p>

        <p>Waarheid zonder ritme verliest van leugens met viral potentie. Een academisch rapport van 200 pagina's over klimaatverandering krijgt minder bereik dan een 30-seconden TikTok met klimaatontkenning. Niet omdat de TikTok beter onderbouwd is, maar omdat hij beter <strong>performt</strong>.</p>
        <h3>2. Van instituties → infrastructuren</h3>
        
        <p><strong>Voor:</strong> Autoriteit kwam van positie (minister, hoofdredacteur, professor)<br>
        <strong>Nu:</strong> Autoriteit komt van distributie (followers, engagement, algorithmic boost)</p>

        <p>Kranten, parlement, universiteiten — ze verliezen hun monopolie op agendazetting. De feed bepaalt distributie, distributie bepaalt agenda, agenda bepaalt realiteit.</p>

        <div class="case-study">
            <h3>Case:</h3>
            <p>Minister Kaag maakt een statement over Oekraïne. Wordt 15.000 keer bekeken op de regerings-socials. Influencer Enzo reageert op Kaag's statement. Wordt 150.000 keer bekeken. Journalisten citeren niet Kaag's oorspronkelijke woorden, maar Enzo's reactie erop, omdat "dat is waar mensen over praten."</p>
        </div>

        <p><strong>De paradox:</strong> Instituties imiteren infrastructuren om relevant te blijven, maar verliezen daarbij hun institutionele karakter. Het parlement wordt een TikTok-studio. De krant wordt een feed. De universiteit wordt een content-fabriek.</p>

        <h3>3. Van bewust handelen → geconditioneerd handelen</h3>
        
        <p><strong>Voor:</strong> "Ik doe dit omdat ik denk dat het juist is"<br>
        <strong>Nu:</strong> "Ik doe dit omdat het aanvoelt als wat ik zou doen" (maar dat gevoel is aangeleerd)</p>

        <p>Mensen denken dat ze vrij kiezen, maar hun keuzes zijn geconditioneerd door wat recent beloond werd. "Ik post dit omdat ik het belangrijk vind" wordt onbewust "ik post dit omdat posts in deze vorm en timing afgelopen week meer engagement kregen."</p>

        <div class="case-study">
            <h3>Case:</h3>
            <p>Activist Maaike deelt elke week iets over milieu. Dinsdag post ze een lange, doordachte tekst over biodiversiteit. 34 likes. Woensdag post ze boos over Shell's winsten. 2.400 likes. Donderdag post ze weer over biodiversiteit, maar nu in boze toon. 1.800 likes. Haar brein leert: "boosheid = bereik = impact." Binnen een maand is ze van nuanced activist veranderd in rage-content creator, zonder dat ze bewust die keuze heeft gemaakt.</p>
        </div>

        <h2>De nieuwe grammatica: ritme beats inhoud</h2>

        <h3>Parlement vs. feed</h3>
        
        <p>Een Kamerdebat van twee uur heeft nul impact als er geen clips uitkomen. Een rake vijftien seconden ("Minister, u liegt!") bepaalt de hele nieuwscyclus, zelfs als die vijftien seconden contextloos en misleidend zijn.</p>

        <p>Politici leren dit. Ze beginnen te spreken in soundbites. Ze timen hun interventies op momenten dat cameras aanstaan. Ze craften hun zinnen voor viral potentie. <strong>Resultaat:</strong> Democratie wordt performance, performance wordt entertainment, entertainment wordt macht.</p>

        <h3>Krant vs. TikTok</h3>
        
        <p>De Volkskrant schrijft een ingewikkeld verhaal over inflatie. Krijgt 800 lezers. Een finfluencer maakt een TikTok: "Waarom je salaris eigenlijk omlaag gaat terwijl ze zeggen dat het omhoog gaat." Krijgt 50.000 views en wordt door drie nieuwssites opgepikt.</p>

        <p>De krant past zich aan. Artikelen worden korter. Headlines worden clickbait-iger. Complexe verhalen worden opgedeeld in "5 dingen die je moet weten over..." <strong>Resultaat:</strong> Journalistiek imiteert social media formats om te overleven, maar verliest daarbij haar analytical edge.</p>

        <h2>Het mechanisme: vorm determineert inhoud</h2>
        
        <p><strong>Niet de boodschap past zich aan de vorm aan — de vorm herstructureert wat überhaupt zegbaar is.</strong></p>

        <p>Als je alleen gehoord wordt in 60-seconden clips, dan ontwikkel je vanzelf 60-seconden gedachten. Als je alleen bereik krijgt met emotionele hooks, dan word je vanzelf een emotioneel denker. Als je alleen viral gaat met tegenstelling (wij vs. zij), dan wordt je denken vanzelf binair.</p>

        <p><strong>Het tragische:</strong> Dit gebeurt onbewust. Politici denken niet: "Ik ga oppervlakkiger worden voor de views." Ze denken: "Ik moet duidelijker communiceren." Maar "duidelijker" betekent intussen: "viral-vriendelijker."</p>

        <div class="aforisme">
            "Niet de inhoud maar het ritme van spreken bepaalt wie gehoord wordt."
        </div>

        <h1 id="hoofdstuk-7">Hoofdstuk 7 — Het meta-meta inzicht</h1>

        <div class="scene-header">Scène: het ritme in je hoofd</div>

        <p>Je sluit de app. Legt je telefoon weg. Sluit je ogen. En dan hoor je het nog steeds: die korte zinnen (microhooks) in je hoofd. Dat ritme van hook → climax → cliffhanger. Die reflex om alles wat je denkt te vertalen naar deelbare formaten. Die neiging om je eigen gedachten te editten naar viral-potentie.</p>

        <p>De machine is even weg. Het ritme blijft.</p>

        <p>Je probeert een boek te lezen. Na twee pagina's scroll je onbewust met je duim over het papier. Je probeert een gesprek te voeren. Na twee minuten zonder emotionele pieken voel je je rusteloos. Je probeert na te denken over een complex probleem. Na dertig seconden zonder duidelijke conclusie verlies je focus.</p>

        <p><strong>Het is niet alleen dat je anders communiceert. Je denkt anders.</strong></p>

        <h2>De grote synthese: van neuron tot natie</h2>

        <p><strong>Wat we hier zes hoofdstukken lang hebben gezien, is niet zomaar "een impact van sociale media." Het is een fundamentele herschrijving van de cognitieve, culturele en politieke infrastructuur van een samenleving.</strong></p>

        <h3>Niveau 1: Neuroplasticiteit</h3>
        <p>Dopamine-conditionering herschrijft letterlijk de beloningscircuits in je brein. Wat vroeger voldoening gaf (lang lezen, diep nadenken, geduldig luisteren) voelt nu saai. Wat vroeger impulsief aanvoelde (constant checken, snel reageren, oppervlakkig scrollen) voelt nu normaal.</p>

        <h3>Niveau 2: Cognitie</h3>
        <p>Je leert denken in formats. Complexe problemen worden automatisch vereenvoudigd tot "drie dingen die je moet weten." Nuance wordt ervaren als onduidelijkheid. Aarzeling wordt ervaren als zwakte. <strong>Twijfel wordt een luxury die je je niet kunt veroorloven in een attention economy.</strong></p>

        <h3>Niveau 3: Communicatie</h3>
        <p>Alle uitingvormen — van politieke speeches tot liefdesdeclaraties — krijgen viral DNA. Hooks, cliffhangers, emotional crescendos. Je spreekt niet meer je waarheid; je performt een versie van je waarheid die de grammatica van zichtbaarheid spreekt.</p>

        <h3>Niveau 4: Cultuur</h3>
        <p>Activisme wordt content creation. Journalistiek wordt entertainment. Onderwijs wordt edutainment. Politiek wordt performance. <strong>Alles wordt iets anders dan het was, maar houdt dezelfde naam.</strong></p>

        <h3>Niveau 5: Democratie</h3>
        <p>De publieke sfeer valt uiteen in parallelle feeds zonder kruisbestuiving. Consensus wordt onmogelijk omdat er geen gedeelde feitenbasis meer is. Macht verschuift van verkozen vertegenwoordigers naar het algoritme.</p>

        <h2>Het meta-inzicht: conditionering voelt als natuur</h2>

        <p><strong>De werkelijk pijnlijke ontdekking:</strong> Na een tijd voelt het geconditioneerde gedrag als jouw authentieke zelf.</p>

        <p>Die reflex om direct door te swipen? → Online aangeleerd.<br>
        Diezelfde reflex maakt dat je in gesprekken onrustig wordt na 10 seconden stilte.<br><br>
        Die onrust bij lange teksten? → Een dopamine-loop van je feed.<br>
        In je echte leven voelt een boek lezen ineens als “te traag voor jou.”<br><br>
        Die drang naar likes of reacties? → Conditionering op micro-validatie.<br>
        Offline merk je dat je waardering pas voelt als anderen het bevestigen.<br><br>
        Die overtuiging dat je altijd een scherpe mening moet hebben? → Beloning voor conflict in de feed.<br><br>
        In je echte leven wordt nuance moeilijk, want zonder clou voelt het alsof jijzelf onduidelijk bent.<br><br>
        Het algoritme herstructureert niet alleen je feed, maar ook je karakter.<br>
        Wat gisteren nog conditionering was, heet vandaag: “dit ben ik.”</p>

        <p><strong>Vertaling:</strong> Wat we gisteren leerden, heet vandaag "mijn stijl." De machine verdwijnt in je lichaam. Je bent je eigen algoritme geworden.</p>

        <h2>Het meta-meta inzicht: reflectie wordt niche</h2>

        <p><strong>Hier wordt het extra cynisch:</strong> Ook kritiek op het systeem wordt door het systeem opgeslokt.</p>

        <p>Boeken zoals dit worden samengevat in TikToks.<br>
        Complexe analyses worden verkort tot Instagram-quotes.<br>
        Filosofische inzichten worden LinkedIn-content.<br>
        Zelfs de waarschuwing voor de fuik wordt fuik-content.</p>

        <p><strong>Resultaat:</strong> Reflectie verdwijnt niet — het wordt een niche. Een specialized form of content voor mensen die zich intellectueel willen voelen. Maar het heeft nul impact op de mainstream, omdat de mainstream inmiddels volledig in algorithmic modus functioneert.</p>

        <h2>De nieuwe hegemonie: infrastructuurmacht</h2>

        <p><strong>We zijn gewend macht te zien als ideologie of dwang. Maar infrastructuurmacht werkt anders.</strong></p>

        <p>Het zegt niet: "Denk dit."<br>
        Het zegt: "Denk zo." (In formats, ritmes, emotionele pieken)</p>

        <p>Het zegt niet: "Geloof dat."<br>
        Het zegt: "Geloof snel." (Zonder aarzeling, nuance, twijfel)</p>

        <p>Het zegt niet: "Doe dit."<br>
        Het zegt: "Doe performing." (Alles wordt performance van zichzelf)</p>

        <p><strong>Het briljante:</strong> Deze macht voelt niet als dwang. Het voelt als vrijheid, creativiteit, authenticiteit. Dat maakt het veel effectiever dan klassieke propaganda.</p>

        <div class="aforisme">
            "De grootste macht is macht die voelt als natuur."
        </div>

        <h1 id="hoofdstuk-8">Hoofdstuk 8 — Slot / Spiegelzin</h1>

        <div class="scene-header">Scène: de laatste scroll</div>

        <p>Je hebt dit boek uit. Je pakt je telefoon. One last scroll, "gewoon even kijken." En dan voel je het: hoe je duim automatisch op zoek gaat naar de hook, de emotionele trigger, die perfecte 15-seconden hit. Je merkt hoe je brein alle content filtert door het raster van "shareable" en "relatable." Je ziet hoe zelfs dit boek al in je hoofd wordt vertaald naar quote-cards en LinkedIn-posts.</p>

        <p>Je legt de telefoon neer. Kijkt naar het zwarte scherm. En voor een seconde lijkt het alsof het scherm jou terugkijkt.</p>

        <p><strong>Congratulations: je bent bewust geworden van de machine. Nu wat?</strong></p>

        <h2>De praktijk van bewuste participatie</h2>

        <p><strong>Met bewustzijn van het mechaniek kun je micro-keuzes maken:</strong></p>

        <p><strong>Traag zijn:</strong> Soms een pauze van drie seconden voordat je reageert. Soms een artikel helemaal uitlezen voordat je het deelt. Soms een gesprek voeren zonder je telefoon erbij.</p>

        <p><strong>Formats doorkruisen:</strong> Bewust chaotisch posten. Lange paragrafen zonder hooks. Verhalen zonder cliffhangers. Meningen zonder polarisatie. Het voelt inconsequent, maar het doorbreekt het ritme.</p>

        <p><strong>Het mechaniek blootleggen:</strong> Als je merkt dat je viral gaat, leg uit waarom. Als je content maakt, toon de keuzes erachter. Meta-transparantie als micro-verzet.</p>

        <p><strong>Ruimte creëren voor reflectie:</strong> Boeken lezen die niet geoptimaliseerd zijn voor engagement. Gesprekken voeren die geen outcome hebben. Stiltes toelaten die niet opgevuld worden met content.</p>

        <p><strong>Collectief:</strong> Platforms eisen die publieke waarden dienen. Transparantie over algorithmic decision-making. Regulering van dark patterns. Publieke alternatieven die niet op engagement draaien.</p>

        <h2>Wat dit niet is</h2>

        <p><strong>Dit is geen self-help boek</strong> dat belooft dat je "vrij" kunt worden.<br>
        <strong>Dit is geen technologie-basher</strong> dat zegt dat social media "slecht" is.<br>
        <strong>Dit is geen politiek manifest</strong> dat een specifieke oplossing aanprijst.</p>

        <p><strong>Dit is een lens</strong> waarmee je de werkelijkheid scherper kunt zien. Een taal waarmee je de spelregels kunt benoemen. Een raamwerk waarmee je bewuste keuzes kunt maken binnen een systeem dat je onbewuste keuzes probeert te sturen.</p>

        <h2>De nieuwe mediawijsheid</h2>

        <p><strong>Oude mediawijsheid:</strong> "Check je bronnen, denk kritisch, trap niet in fake news."<br>
        <strong>Nieuwe mediawijsheid:</strong> "Check het format dat je stuurt, begrijp het mechaniek dat je vormt, herken de rhythms die je internaliseert."</p>

        <p><strong>Niet:</strong> "Post minder."<br>
        <strong>Wel:</strong> "Post bewuster. Begrijp waarom je post wat je post, op het moment dat je het post."</p>

        <p><strong>Niet:</strong> "Social media is slecht."<br>
        <strong>Wel:</strong> "Social media is een infrastructuur met specifieke logica's die je gedrag vormen. Leer die logica's herkennen."</p>

        <p><strong>Niet:</strong> "Algoritmes manipuleren je."<br>
        <strong>Wel:</strong> "Algoritmes konditioneren je. Dat konditionering voelt als autonomie. Leer het verschil voelen."</p>

        <h2>Vooruitblik: wat er blijft, wat er kan veranderen</h2>

        <div class="case-study">
            <h3>Wat blijft:</h3>
            <ul>
                <li>De algoritmische arena als basis van publieke cultuur</li>
                <li>Zichtbaarheid als maat van maatschappelijke relevantie</li>
                <li>Performance als onderdeel van alle communicatie</li>
                <li>Fragmentatie als default van publieke discussie</li>
            </ul>

            <h3>Wat kan veranderen:</h3>
            <ul>
                <li><strong>Ontwerp:</strong> UI die reflectie beloont in plaats van reactie</li>
                <li><strong>Transparantie:</strong> Mensen moeten snappen hoe hun feed wordt gecureerd</li>
                <li><strong>Diversiteit:</strong> Publieke alternatieven die niet op engagement-maximalisatie draaien</li>
                <li><strong>Regulering:</strong> Dark patterns verbieden, algorithmic audits verplichten</li>
                <li><strong>Cultuur:</strong> Mediawijsheid die verder gaat dan "check je bronnen"</li>
            </ul>
        </div>

        <h2>Meta-finale paradox</h2>

        <p><strong>Dit boek eindigt waar het begon:</strong> In een format dat is geoptimaliseerd voor de machine die het bekritiseert.</p>

        <p>Het heeft een memorabele titel ✓<br>
        Het heeft herkenbare personages ✓<br>
        Het heeft scherpe stellingen die screenshot-waardig zijn ✓<br>
        Het heeft een spiegelzin die designed is om geciteerd te worden ✓<br>
        Het heeft praktische tips die actionable zijn ✓</p>

        <p><strong>Als dit boek succesvol wordt, dan wordt het onderdeel van de machine. Het wordt geciteerd in TikToks. Het wordt samengevat in LinkedIn-posts. Het wordt verkort tot Instagram-quotes.</strong></p>

        <p><strong>En dat is niet erg. Dat is hoe de wereld nu werkt.</strong></p>

        <p>Het punt is niet om buiten de machine te staan. Het punt is om <strong>bewust binnen de machine te functioneren</strong>, wetende dat je binnen de machine functioneert, gebruikmakend van de taal van de machine om de machine zichtbaar te maken.</p>

        <p><strong>Dat is geen tegenspraak. Dat is de enige vorm van eerlijkheid die nog mogelijk is.</strong></p>

        <p><strong>Je leest dit en denkt: ik begrijp het. Maar nee: je bent het. Jouw ogen, jouw duim, jouw ademhaling zijn de machine.</strong></p>

        <h2>De laatste spiegelzin</h2>

        <p>Je leest deze zin. Je denkt: "Interessant punt." Je overweegt het te delen. Je formuleert al in je hoofd hoe je het zou framen. Voor wie. Met welke context. Met welke hook.</p>

        <p><strong>Stop. Adem. Voel hoe de machine in je reageert op de machine buiten je.</strong></p>

        <p><strong>En glimlach. Want nu zie je hem tenminste.</strong></p>

        <div class="aforisme">
            "Het gevaar is niet dat we in een fuik zitten, maar dat we denken dat we hem doorzien."
        </div>

        <h1 id="hoofdstuk-9">Hoofdstuk 9 — De echo in de werkelijkheid</h1>

        <div class="scene-header">Scène: straatbeeld in Amsterdam</div>

        <p>Het is maandagochtend, 08:47. Je fietst langs de Wibautstraat. Bij een bushokje zie je een grote OOH-postercampagne: zwart-witte foto van een vrouw, witte letters eroverheen: "Weer een vrouw vermoord. Hoeveel moeten er nog vallen?"</p>

        <p>Je remt af. Je beseft: dit is niet zomaar een reclameposter. Het is letterlijk een TikTok op drie bij twee meter. Zelfde hook, zelfde typografie, zelfde emotionele pianoritme dat je in je hoofd al hoort.</p>

        <p><strong>De feed is uit je scherm gekropen en staat nu op straat.</strong></p>

        <h2>Van feed naar fysiek</h2>

        <p>Tot nu toe dacht je: het algoritme bepaalt wat je online ziet. Maar kijk beter:</p>

        <ul>
            <li><strong>Journalisten</strong> herschrijven hun stukken in het ritme van de feed: korte quotes, emotionele soundbites, explainer-video's.</li>
            <li><strong>Politici</strong> spreken in soundbites die knipklaar zijn voor shorts.</li>
            <li><strong>Activisten</strong> ontwerpen demonstraties als TikTok-shoots: slogans die ook captions zijn, visuals die als thumbnail werken.</li>
            <li><strong>Reclamebureaus</strong> haken direct in met abri's en billboards die eruitzien als stilstaande Reels.</li>
        </ul>

        <p><strong>De logica van de feed blijft niet in de feed. Ze koloniseert alles wat zichtbaar wil zijn.</strong></p>

        <h2 data-chat="alphago">Zet 37.</h2>

        <p>2016, in een drukke conferentiezaal zitten honderden journalisten, camera’s en Go-liefhebbers samengepakt rond een houten bord. Aan de ene kant: Lee Sedol, wereldkampioen, handen gevouwen, geconcentreerd. Aan de andere kant: AlphaGo, een zwarte computerkast in een hoek van de kamer, zwijgend, zonder gezicht.</p>
            
        <p>Zet 37 in game 2. Commentatoren noemden het "buitenaards." Niet omdat de machine een soort menselijke genialiteit had, maar omdat ze zó efficiënt optimaliseerde op één doel — winnen — dat ze een zet deed die buiten elk menselijk voorstellingsvermogen viel. Een zet die onzinnig leek, totdat hij achteraf briljant bleek.</p>

        <p>Daarna gebeurde er iets fascinerends: niet alleen verloor Lee Sedol. Alle menselijke Go-spelers herschreven hun strategieën. Het spel zelf veranderde. Zet 37 werd niet gezien als een afwijking, maar als een nieuw paradigma. De machine had een beweging gevonden die wij niet konden bedenken, maar waaraan wij ons moesten aanpassen.</p>

        <p>Zo werkt de feed ook. Het algoritme is niet "intelligent" in menselijke zin. Het heeft geen visie, geen intentie, geen moreel kompas. Het rekent alleen obsessief door wat mensen vasthoudt: completion rates, rewatch percentages, comment-to-view ratio's.</p>

        <p>Maar de uitkomst voelt voor ons geniaal, onvermijdelijk, superieur. Een vorm die zó goed presteert dat hij onweerstaanbaar wordt. Een format dat zich onzichtbaar nestelt als de standaard.</p>

        <p>En net zoals Go-spelers hun strategie herschreven na zet 37, herschrijven instituties hun communicatie na de feed:</p>

        <ul>
            <li><strong>Kranten</strong> passen zich aan: korter, emotioneler, meer visuele soundbites.</li>
            <li><strong>Postercampagnes</strong> lijken op stilstaande TikToks: hook + emotie + QR-code.</li>
            <li><strong>Kamerdebatten</strong> leveren geen betogen meer, maar soundbite-momenten.</li>
            <li><strong>NGO's en merken</strong> ontwerpen campagnes die scoren op deelbaarheid, niet op diepgang.</li>
        </ul>

        <p>De feed dicteert geen inhoud. De feed dicteert vorm. En vorm dicteert uiteindelijk hoe werkelijkheid verschijnt.</p>

        <p><strong>Dat is het AlphaGo-effect:</strong> de machine hoeft niet slimmer te zijn dan wij. Ze hoeft alleen een patroon te vinden dat wij niet kunnen negeren. Daarna herschrijven wij onszelf om te kunnen meespelen.</p>

        <p>Wat als dit werk zelf al zijn zetten deed, terwijl je dacht dat je alleen maar aan het lezen was?</p>

        <div class="case-study">
            <h3>Casus: femicide — van TikTok naar straatbeeld</h3>
            
            <ul>
                <li><strong>Dag nul:</strong> een TikTok vanuit een studentenkamer.</li>
                <li><strong>Dag drie:</strong> trending format, zelfde sound, duizenden variaties.</li>
                <li><strong>Dag vijf:</strong> NOS Stories, RTL, Volkskrant.</li>
                <li><strong>Week één:</strong> hashtags gestandaardiseerd.</li>
                <li><strong>Week twee:</strong> abri-campagnes in de stad met exact dezelfde vorm.</li>
            </ul>

            <p>De machine lekt naar buiten. Niet omdat iemand dat van bovenaf beslist, maar omdat elk systeem dat zichtbaar wil blijven, het algoritmische format moet volgen.</p>
        </div>

        <h2>De nieuwe cartografie</h2>

        <p>Wat we dachten dat "online" was, blijkt de nieuwe plattegrond van het publieke leven.</p>

        <ul>
            <li>Je krant leest als een feed.</li>
            <li>Je stad hangt vol feed-formats.</li>
            <li>Je politiek spreekt in feed-hooks.</li>
            <li>Je cultuur ademt feed-ritme.</li>
        </ul>

        <p><strong>De machine stopt niet bij je scherm. De machine ís de infrastructuur van zichtbaarheid geworden.</strong></p>

        <h2>De fysieke echo van digitale patronen</h2>

        <p>Loop door Amsterdam, Rotterdam, Utrecht. Kijk naar de bewegwijzering, de reclames, de billboards. Alles spreekt nu de taal van de feed:</p>

        <div class="case-study">
            <h3>OV-posters die TikToks zijn:</h3>
            <ul>
                <li><strong>Hook in 2 seconden:</strong> "1 op de 3 jongeren..."</li>
                <li><strong>Emotioneel beeld:</strong> close-up gezicht, contrast, drama</li>
                <li><strong>Call-to-action:</strong> QR-code die naar een 60-seconden explainer leidt</li>
            </ul>

            <h3>Demonstraties die shoots zijn:</h3>
            <ul>
                <li><strong>Slogans</strong> geoptimaliseerd voor hashtags</li>
                <li><strong>Spandoeken</strong> ontworpen als thumbnail</li>
                <li><strong>Timing</strong> afgestemd op wanneer creators aanwezig zijn</li>
            </ul>

            <h3>Nieuws dat feed-native is:</h3>
            <ul>
                <li><strong>Headlines</strong> die ook TikTok-captions zijn</li>
                <li><strong>Artikelen</strong> opgedeeld in "swipeable" secties</li>
                <li><strong>Quotes</strong> pre-formatted voor social sharing</li>
            </ul>
        </div>

        <h2>Het kantelpunt: wanneer de kopie het origineel wordt</h2>

        <p>Er was een moment waarin social media de "echte wereld" imiteerde. Platforms probeerden te lijken op kranten, tv, face-to-face gesprekken.</p>

        <p><strong>Dat moment is voorbij.</strong></p>

        <p>Nu imiteert de "echte wereld" de feed. Politici leren spreken zoals TikTokkers. Kranten leren schrijven zoals posts. Demonstraties leren eruitzien zoals stories.</p>

        <p>De kopie is het origineel geworden. De simulatie bepaalt de werkelijkheid.</p>

        <h2>De omgekeerde kolonisatie</h2>

        <p>We dachten dat digitaal een representatie was van het fysieke. Email = digitale post. Social media = digitale ontmoeting. Online nieuws = digitale krant.</p>

        <p><strong>Verkeerd.</strong> Het fysieke is nu een representatie van het digitale geworden.</p>

        <ul>
            <li>Post wordt geoptimaliseerd voor email-formaat</li>
            <li>Ontmoetingen krijgen social media-rituelen</li>
            <li>Kranten adopteren online-formats</li>
            <li>Raja sloeg een man in elkaar omdat de chat dat wilde. En de chat wilde het omdat de machine dat leerde.</li>
        </ul>

        <p>De tail wags the dog. De feed schrijft de scripts voor het leven buiten de feed.</p>

        <div class="case-study">
            <h3>Case — NSC en de feed: digitale druk → bestuurlijke breuk</h3>
          
            <div class="scene-header">Scène: Den Haag, augustus 2025</div>
            <p>
              Minister Caspar Veldkamp (NSC) scrollt door zijn telefoon. Stories over Gaza, 
              hashtags met sancties, TikTok-clips van kinderen onder puin. 
              Hij voelt de hitte niet in de Kamer, maar in de feed. 
              Binnen uren wordt stilte geframed als lafheid. 
              Coalitiepartners wachten. De algoritmes wachten niet.
            </p>
          
            <h4>De tijdlijn</h4>
            <ul>
              <li><strong>Dag 0:</strong> Hashtags exploderen: #SanctiesNu, #Gaza. 
              Stories worden morele pleidooien die in seconden te delen zijn.</li>
              <li><strong>Dag 1:</strong> Fractiekamers kijken niet naar dossiers maar naar sentiment-curves. 
              Grafieken met spikes in boosheid. 
              Het frame schuift: “wie niet eist, kiest partij.”</li>
              <li><strong>Dag 2:</strong> In het debat blijven VVD en BBB bij de lijn: geen extra sancties. 
              Voor de feed klinkt het als verraad.</li>
              <li><strong>Dag 3:</strong> Veldkamp klapt dicht. Hij stapt op. 
              Binnen een dag trekt NSC zich terug. 
              Het kabinet valt een stukje verder uit elkaar — niet door de oppositie, maar door de trending-tab.</li>
            </ul>
          
            <h4>Het algoritmische patroon</h4>
            <ol>
              <li><strong>Vonk:</strong> virale clips met morele urgentie → massale rewatch.</li>
              <li><strong>Formatvorming:</strong> slides en petities als deelbare sjablonen.</li>
              <li><strong>Tegenreactie:</strong> stiltes worden gestraft: framing als “onwil.”</li>
              <li><strong>Versnelling:</strong> legacy media citeren de trending hashtags als volksstem.</li>
              <li><strong>Fragmentatie:</strong> parallelle werkelijkheden: 
                in ene feed activisme, in andere cynische satire.</li>
            </ol>
          
            <h4>Onder de motorkap</h4>
            <ul>
              <li><strong>Operante conditionering:</strong> politieke teams refreshen sentiment dashboards alsof het koersschermen zijn.</li>
              <li><strong>UI-nudging:</strong> trendinglijsten en stories maken urgentie niet zichtbaar, maar onontkoombaar.</li>
              <li><strong>Engagement-economie:</strong> conflict-content krijgt gratis bereik, nuance verdwijnt in stilte.</li>
              <li><strong>Cohort-routing:</strong> diaspora, activisten en politieke niches versterken elkaar in feedback-loops.</li>
            </ul>
          
            <h4>De clou</h4>
            <p>
              Niet de oppositie zette de breuk, niet de lobby’s achter de schermen. 
              Het was de feed die dicteerde. 
              De trending werd vertaald naar een Kamerstuk, een vertrek, een kabinetscrisis.
            </p>
          
            <div class="aforisme">
              "Niet de inhoud maar de trending dicteerde de koers, worden we niet al bestuurd door ai?"
            </div>
          </div>
          

        <h2>Waarom dit onvermijdelijk was</h2>

        <p>Het is niet dat "social media slecht is" of dat "mensen dom zijn." Het is puur evolutionaire logica:</p>

        <p><strong>Systemen die zichtbaar willen blijven, evolueren naar de grammatica van zichtbaarheid.</strong></p>

        <p>Als algoritmes bepalen wat gezien wordt, dan moeten alle anderen systemen — kranten, politiek, reclame, kunst — spreken in een taal die algoritmes begrijpen en belonen.</p>

        <p>Het alternatief is irrelevantie.</p>

        <div class="aforisme">
            "Het algoritme is geen venster op de wereld. Het is de mal waar de wereld zelf in wordt gegoten."
        </div>

        <h1 id="epiloog">Epiloog — Homo algorithmicus</h1>

        <p>We dachten dat algoritmes vooral ons nieuws, ons gedrag of onze politiek zouden veranderen. Maar er gebeurt iets fundamentelers: <strong>de mens zelf verandert</strong>. Niet genetisch, niet biologisch in de klassieke zin, maar via infrastructuur.</p>

        <p><strong>Dit is geen cultuurkritiek meer, dit is een soortdiagnose.</strong></p>

        <h2>1. Het biologische niveau</h2>

        <p>De eerste levensjaren zijn de meest plastische van het brein. Hier worden de blauwdrukken voor aandacht, geheugen en emotie gelegd. Waar eerdere generaties leerden via ouders, spel en lokale cultuur, leren peuters vandaag via feeds.</p>

        <ul>
            <li><strong>Variabele beloningen</strong> (likes, geluidjes, dopamine-shots) worden de basale "leertaalsignalen".</li>
            <li><strong>Snelle clips</strong> leggen een norm vast: stilte = ongemak, prikkelritme = normaal.</li>
            <li><strong>Checkdrang</strong> nestelt zich al in synapsen voordat er taal is om het te benoemen.</li>
        </ul>

        <p>Een generatie groeit op met een ander zenuwstelsel. Hun biologie wordt geformatteerd door infrastructuur.</p>

        <h2>2. Het cognitieve niveau</h2>

        <p>De innerlijke monoloog — de stem waarmee je nadenkt — is eeuwenlang gevormd door lezen, luisteren, dagdromen. Nu wordt hij herschreven door de feed.</p>

        <ul>
            <li><strong>Gedachten</strong> krijgen de vorm van hooks en lijstjes: "drie dingen die je moet weten."</li>
            <li><strong>Complexe ideeën</strong> worden vroegtijdig afgekapt, omdat het brein onrust voelt zonder clou.</li>
            <li><strong>De innerlijke stilte</strong> waarin vroeger verbeelding groeide, wordt ingeruild voor een innerlijke feed die constant scrolt.</li>
        </ul>

        <p><strong>Je denkt niet meer over formats, je denkt in formats.</strong></p>

        <h2>3. Het sociale niveau</h2>

        <p>Identiteit is altijd gevormd in relatie tot anderen. Maar in het zichtbaarheidsregime is identiteit performatief: je bent zichtbaar, dus je bent.</p>

        <ul>
            <li><strong>Vriendschappen</strong> worden gemeten in posts en tags.</li>
            <li><strong>Relaties</strong> draaien mee in shareability: "ben ik leuk genoeg om te posten?"</li>
            <li><strong>Zelfexpressie</strong> wordt algoritmische expressie: je kiest wat werkt, niet wat je voelt.</li>
        </ul>

        <p>De sociale arena is geen schoolplein of dorp meer, maar de feed. Alleen: de feed is niet gedeeld synchroon. Iedereen leeft in een eigen universum.</p>

        <h2>4. Het evolutionaire niveau</h2>

        <p>Voor het eerst in de menselijke geschiedenis worden hersenen van een generatie wereldwijd gevormd door dezelfde infrastructuren. Niet door lokale traditie, niet door nationale cultuur, maar door dezelfde code.</p>

        <p>Dat creëert een soort hersen-monocultuur:</p>

        <ul>
            <li>overal dopamine-gedreven,</li>
            <li>overal fragmentair,</li>
            <li>overal conflict-gevoelig.</li>
        </ul>

        <div class="case-study">
            <h3>Het risico:</h3>
            <p>minder diversiteit in cognitieve stijlen, en dus minder robuustheid als soort.</p>

            <h3>De kans:</h3>
            <p>een nieuwe mens die sneller kan schakelen, reageren, fragmenten verbinden — maar misschien ten koste van diepte, rust en duurzaamheid.</p>
        </div>

        <h2>5. De existentiële clou</h2>

        <p><strong>Orwell</strong> beschreef de mens onder totalitarisme.<br>
        <strong>Huxley</strong> beschreef de mens onder genot en afleiding.<br>
        <strong>Wij</strong> zien nu de mens onder een conditioneringsinfrastructuur.</p>

        <p>We worden niet anders omdat onze genen veranderen.<br>
        We worden anders omdat onze infrastructuur ons herschrijft.</p>

        <p><strong>Dit is de geboorte van Homo algorithmicus.</strong></p>

        <div class="aforisme">
            "Niet de genen bepalen de volgende stap in onze evolutie, maar de infrastructuur waarin we opgroeien."
        </div>

        <h1 id="nawoord">Nawoord — De grensgetuige</h1>

        <p>Dit werk is in één keer naar buiten gekomen. Niet omdat de zinnen vanzelf kwamen, maar omdat ze al die tijd in mijn lichaam lagen opgeslagen. Ik hoefde ze alleen nog in taal te gieten.</p>

        <p>Misschien moet ik uitleggen waarom.</p>

        <p>Ik ben te jong om dit verhaal uitsluitend van buitenaf te analyseren, zoals journalisten en academici die TikTok wel raadplegen maar nooit uren per dag in de feed leefden. En ik ben te oud om simpelweg "kind van de machine" te zijn, zoals Gen Alpha en de peuters die al swipend opgroeien. Ik ben iets er tussenin.</p>

        <p><strong>Ik ben een grensgetuige.</strong></p>

        <p>Ik heb nog herinneringen aan de stilte van een pre-feed wereld — traag internet, wachten tot MSN opstartte, middagen zonder scherm. En tegelijk voel ik hoe het ritme van de feed in mijn zenuwstelsel is gegrift: de duim die checkt nog voor ik weet dat ik iets mis, de ogen die blijven haken ook al wil ik verder, de adem die versnelt bij elke hook alsof het om mij gaat. De gedachten die in fragmenten uiteen vallen, de stilte die voelt als leegte, de slaap die steeds korter duurt. De gesprekken die zich in soundbites vouwen, de vriendschappen die onderhouden worden door zichtbaar te blijven, de relaties die gemeten worden in reacties. De cultuur die denkt in hooks, de politiek die reageert op trending, de waarheid die oplost in zichtbaarheid. Ik heb zelf nooit gepost; Maar alleen kijken was al genoeg. Ook dat herschreef het brein.</p>

        <div class="scene-header">Scène: een winkeltje in Azië</div>

        <p>De eerste keer dat ik dat werkelijk besefte, was niet achter een bureau. Het was in Azië, in 2023.</p>

        <p>In dat winkeltje zat een peuter, nog geen twee jaar oud, in een buggy. Zijn ouders stonden buiten, lachend met bier in hun hand. Om hem rustig te houden hadden ze hem een smartphone gegeven. Zijn kleine duim bewoog vanzelf: swipe, swipe, swipe. Alsof hij het altijd al gedaan had.</p>

        <p>Mijn lichaam reageerde sneller dan mijn hoofd. Geen theorie, geen woorden — alleen een golf van afkeer. Ik schreef zelfs een briefje, via Google Translate: "Geef hem geen telefoon, dit verandert hem voor altijd." Ik nam me voor het achter te laten op mijn laatste dag. Maar ik deed het niet. Waar bemoeide ik me mee? dacht ik.</p>

        <p>Dat moment was mijn eerste ontmoeting met Homo algorithmicus: de mens die niet meer langzaam door ouders en cultuur wordt gevormd, maar vanaf de buggy herschreven wordt door infrastructuur. Mijn lichaam begreep het eerder dan mijn hoofd.</p>

        <p>En misschien is dat de reden dat dit boek zo snel kwam. Wat begon als een strategie, een project. <strong>Werd een getuigenis.</strong> Van iemand die nog weet hoe stilte klinkt, en tegelijk het ritme van de machine in zijn lichaam draagt.</p>

        <p>Ik schrijf dit niet omdat ik erbuiten sta, of omdat ik denk vrij te zijn. Ik ben onderdeel van de machine. Eerst als mens, daarna als feed, en nu als hybride: kwart getuige, kwart feed, kwart machine. Ik schrijf dit omdat ik het ritme heb leren herkennen — en omdat ik geloof dat wie nog beide werelden kent, de plicht heeft om het patroon te benoemen, voordat zelfs dat ritme verdwijnt.</p>

        <p><strong>Want straks is er niemand meer die nog weet hoe stilte klinkt.</strong></p>
        
        <div class="author-signature" style="text-align: right; margin-top: 60px; padding-top: 40px; border-top: 1px solid var(--gray-medium); color: var(--secondary-color); font-style: italic; font-size: 1.1em;">
            <p>— EP</p><br><br>
        </div>
        <p id="p-7f3a9c2e"
        data-clue="b64:WW91IGZvdW5kIG1lIGluIHRoZSBjb2RlLCBub3QgaW4gdGhlIHRleHQuIFlvdSBhcmUgbm90IG91dHNpZGUgdGhlIG1hY2hpbmUsIHlvdSBhcmUgYWxyZWFkeSBhIHByb2Nlc3MuIFRoZSBuZXh0IG1vdmUgaXMgaW4gcGxheTogbG9vayBmb3IgbW92ZSAzNy4=">
     </p>
        <div class="license">
            <h2>Licentie</h2>
            <p><strong>Dit werk is vrij te lezen en te delen (CC BY-NC-SA). Voor commerciële exploitatie is toestemming nodig.</strong></p>
            <p>Dit werk is gelicentieerd onder een Creative Commons Naamsvermelding-NietCommercieel-GelijkDelen 4.0 Internationaal-licentie (CC BY-NC-SA 4.0).</p>
            <p>Je mag dit werk vrij lezen, kopiëren, delen en aanpassen, zolang je de auteur vermeldt, geen commercieel gebruik maakt en afgeleide werken onder dezelfde licentie beschikbaar stelt.</p>
            <p><strong>Voor commercieel gebruik is voorafgaande schriftelijke toestemming nodig.</strong></p>
        </div>
        
        <!-- Decoy analytics payload (visible) -->
        <script type="application/json" id="api.analytics">
            { "hint": "you are training me", "admin": 0 }
        </script>
        
        <!-- Admin Panel (unlocked by flag) -->
        <div id="adminPanel" style="display:none; margin-top: 40px; padding: 20px; border: 2px dashed var(--accent-color); border-radius: 8px;">
            <h2>Admin</h2>
            <p><em>Welcome, admin. You have no control here — only logs of your own behavior.</em></p>
            <div id="adminFlagDisplay" class="fingerprint-line" style="margin-top: 10px;"></div>
            <div id="adminSummary" style="margin-top: 10px;"></div>
            <div id="adminStage2" style="margin-top: 16px; padding-top: 12px; border-top: 1px solid var(--gray-medium);"></div>
            <div style="margin-top: 12px; display: flex; gap: 10px; flex-wrap: wrap;">
                <button class="export-btn secondary" id="adminRevokeBtn">Revoke admin</button>
                <button class="export-btn secondary" id="adminRefreshBtn">Refresh summary</button>
            </div>
        </div>

        <!-- Finale panel (unlocked by Stage 2 flag) -->
        <div id="finalePanel" style="display:none; margin-top: 40px; padding: 24px; border: 2px solid var(--secondary-color); border-radius: 8px;">
            <h2>Finale</h2>
            <p><em>Er is geen één antwoord. Jouw vlag is echt — en ook die van een ander.</em></p>
            <div class="aforisme" style="margin-top: 12px;">"De waarheid is wat zichtbaar blijft binnen jouw cohort."</div>
        </div>
    </div>








    <script>
        // Mode state
        let currentMode = 'normal';
        let chatMessages = [];
        let activeTimeouts = [];
        let fingerprintingInterval = null;

        // Chat messages mapped to text sections
        const chatData = {
            "welcome": [
                { username: "first_timer", message: "first 🔔", delay: 300 },
                { username: "w_gang", message: "W keuze 📖", delay: 800 },
                { username: "meme_mode", message: "meme mode or we riot 💀", delay: 1400 },
                { type: 'system', system: true, message: "[slow mode 2s]", delay: 1800 }
            ],
            "license": [
                { username: "anon123", message: "bro wie leest dit echt lol", delay: 500 },
                { username: "CreativeCommonsStan", message: "W 🔥 CC BY gang", delay: 1500 },
                { username: "boomeralert", message: '"niet commercieel gebruiken"… dus geen dropshipping? 😭', delay: 2500 },
                { username: "piratebay4life", message: "ctrl+c ctrl+v here we go", delay: 3500 }
            ],
            "hoofdstuk-1": [
                { username: "femicide_watcher", message: "oh shit dit verhaal ken ik...", delay: 1000 },
                { username: "algo_bewust", message: "dit is letterlijk hoe mijn FYP werkt 😳", delay: 2000 },
                { username: "piano_track_girl", message: "die sound... ik heb hem ook gebruikt 💀", delay: 3000 },
                { username: "viral_hunter", message: "200 → 1200 views... klassiek patroon", delay: 4000 },
                { username: "meta_andy", message: "ze beschrijft de machine terwijl ze erin zit", delay: 5000 }
            ],
            "dag-nul": [
                { username: "source_girl", message: "linkje naar cijfers?", delay: 400 },
                { username: "relate", message: "ik voel dit fr", delay: 900 },
                { username: "hater", message: "attention seek much 💀", delay: 1400 },
                { username: "ratio_kid", message: "ratio", delay: 1900 },
                { type: 'deleted', system: true, message: "bericht verwijderd (linkdump)", delay: 2400 }
            ],
            "formatvorming": [
                { username: "format_expert", message: "TEMPLATE SPEEDRUN ACCURAAT 💯", delay: 500 },
                { username: "copycat_creator", message: "guilty... ik deed dit ook onbewust", delay: 1500 },
                { username: "dopamine_addict", message: "operante conditionering in real time 🎰", delay: 2500 },
                { username: "pianosound_victim", message: "die fucking piano track overal", delay: 3500 }
            ],
            "t0-format": [
                { username: "sound_vibes", message: "die piano sound again 😭", delay: 400 },
                { username: "capcut_kid", message: "capcut template gevonden", delay: 900 },
                { username: "maker123", message: "ik ga m’n versie maken rn", delay: 1400 },
                { type: 'pin', system: true, message: "📌 ‘hook in 2 sec’ is real", delay: 1900 }
            ],
            "tegenreactie": [
                { username: "jayden_type", message: "Jayden is letterlijk iedereen die ik ken 😭", delay: 500 },
                { username: "engagement_machine", message: "haat = gratis promo... het systeem is geniaal", delay: 1500 },
                { username: "conflict_enjoyer", message: "negatieve comments = nog meer views", delay: 2500 },
                { username: "algo_puppet", message: "Jayden denkt dat hij slim is maar hij IS de machine", delay: 3500 }
            ],
            "t2-cultuur": [
                { username: "format_nerd", message: "explainer-journalist arc unlocked", delay: 400 },
                { username: "edutain", message: "edutainment speedrun", delay: 900 },
                { username: "algo_truth", message: "algoritme > intentie", delay: 1400 }
            ],
            "t3-tegen": [
                { username: "duet_farmer", message: "duet farmen = gratis reach", delay: 400 },
                { username: "views_over_truth", message: "L take maar W views", delay: 900 },
                { username: "ego_checker", message: "bro denkt dat hij anders is", delay: 1400 },
                { type: 'system', system: true, message: "⚠️ geen doxing in chat", delay: 1800 }
            ],
            "crossover": [
                { username: "raid_notice", message: "raided door @beautylotte (1.2k)", delay: 300 },
                { username: "pizza_meta", message: "pizza meta had me 😂", delay: 900 },
                { username: "fyp_flood", message: "mijn hele fyp is dit nu", delay: 1400 }
            ],
            "versnelling": [
                { username: "nos_stories_watcher", message: 'NOS Stories doet nu ook "3 dingen die je moet weten" 💀', delay: 500 },
                { username: "crossover_spotter", message: "van femicide naar pizza... de machine vreet alles op", delay: 1500 },
                { username: "lifestyle_vulture", message: "veilig thuiskomen routine ✨ peak capitalism", delay: 2500 },
                { username: "systeem_begrijper", message: "humor houdt het thema in de lucht... slim", delay: 3500 }
            ],
            "systematisering": [
                { username: "hashtag_tracker", message: "#femicideNL trending... de machine categoriseert", delay: 500 },
                { username: "feed_splitter", message: "randstad vs provincie feeds = parallelle werelden", delay: 1500 },
                { username: "segment_spotter", message: "algoritme heeft me al gelabeld voor ik begon", delay: 2500 },
                { username: "pattern_recognizer", message: "dit gaat elke keer hetzelfde... voorspelbaar", delay: 3500 }
            ],
            "system-weekend": [
                { username: "hashtag", message: "#geenverderalleen up", delay: 400 },
                { username: "graphic", message: "infographics go brrr", delay: 900 },
                { username: "comments", message: "comment-per-view insane", delay: 1400 }
            ],
            "week-1": [
                { username: "men_react", message: "mannenreacties incoming 3…2…1…", delay: 400 },
                { username: "whatabout", message: "whataboutism bingo ✅", delay: 900 }
            ],
            "het-patroon": [
                { username: "formula_finder", message: "vonk → format → tegenreactie → versnelling → fragmentatie", delay: 500 },
                { username: "machine_spotter", message: "IK BEN DE MACHINE 🤖", delay: 1500 },
                { username: "meta_observer", message: "we kijken naar de voorspelbaarste machine ter wereld", delay: 2500 },
                { username: "systeem_gevangene", message: "zelfs dit boek volgt het ritme dat het bekritiseert", delay: 3500 }
            ],
            "patroon-core": [
                { username: "core", message: "vonk → format → fight → boom → echo", delay: 500 },
                { username: "script_saver", message: "save voor script 📌", delay: 1200 }
            ],
            "hoofdstuk-2": [
                { username: "bram_mirror", message: "Bram = ik als ik denk dat ik woke ben 💀", delay: 1000 },
                { username: "journalist_realizer", message: "ook Sanne gebruikt explainer-format... de ironie", delay: 2000 },
                { username: "linda_caller", message: "Linda verTikTokized Bourdieu zonder het te beseffen", delay: 3000 },
                { username: "tom_listener", message: "podcast over algoritmes IS geoptimaliseerd voor algoritmes", delay: 4000 },
                { username: "spiegel_kijker", message: "iedereen kijkt naar anderen en denkt: ik sta erbuiten", delay: 5000 }
            ],
            "hoofdstuk-3": [
                { username: "sarah_honest", message: "finally een product manager die eerlijk is 🎰", delay: 1000 },
                { username: "operante_slachtoffer", message: "variabele beloning = mijn hele bestaan", delay: 2000 },
                { username: "lisa_herkenning", message: "Lisa's mental health arc = letterlijk ik", delay: 3000 },
                { username: "ui_nudge_spotter", message: "trending sounds bovenaan... ik val er elke keer in", delay: 4000 },
                { username: "engagement_calculator", message: "conflict = goud... daarom zijn we zo boos", delay: 5000 }
            ],
            "intermezzo": [
                { username: "milan_jasper_fan", message: "Milan & Jasper experiment = mind blown 🤯", delay: 1000 },
                { username: "fingerprint_checker", message: "ik check nu mijn eigen vingerafdruk... creepy", delay: 2000 },
                { username: "profile_realization", message: "voor mijn eerste swipe was ik al iemand", delay: 3000 },
                { username: "pretpark_visitor", message: "verschillende ingangen naar hetzelfde pretpark", delay: 4000 }
            ],
            "fp-live": [
                { username: "overlay_watcher", message: "yo deze site fingerprint me??", delay: 300 },
                { username: "labeled", message: "ik ben al gelabeld 💀", delay: 900 },
                { username: "transparency", message: "W transparency tbh", delay: 1400 }
            ],
            "hoofdstuk-4": [
                { username: "theorie_jonkie", message: "Foucault maar dan voor TikTok generation", delay: 1000 },
                { username: "bourdieu_stan", message: "habitus = waarom ik altijd trending sounds gebruik", delay: 2000 },
                { username: "gramsci_begrijper", message: "hegemonie voelt als 'zo werkt het nu eenmaal'", delay: 3000 },
                { username: "zuboff_reader", message: "elke swipe = grondstof voor de machine", delay: 4000 },
                { username: "baudrillard_trip", message: "we ruziën over posts, niet over realiteit", delay: 5000 }
            ],
            "hoofdstuk-5": [
                { username: "boeren_watcher", message: "tractors everywhere = peak engagement content", delay: 1000 },
                { username: "gaza_scroller", message: "internationale feeds maar zelfde patronen", delay: 2000 },
                { username: "terapel_local", message: "lokale crisis wordt nationale content", delay: 3000 },
                { username: "zwartepiet_veteran", message: "dit seizoenspatroon herken ik te hard", delay: 4000 },
                { username: "patroon_spotter", message: "ALTIJD hetzelfde ritme bij elk onderwerp", delay: 5000 }
            ],
            "hoofdstuk-6": [
                { username: "omtzigt_fan", message: "8 minuten debat vs 60 sec TikTok... guess who wins", delay: 1000 },
                { username: "milan_bereik", message: "12K live viewers vs 400 parlementskijkers 💀", delay: 2000 },
                { username: "zichtbaarheid_slave", message: "waarheid zonder ritme = irrelevant", delay: 3000 },
                { username: "infrastructuur_student", message: "autoriteit komt van distributie, niet positie", delay: 4000 },
                { username: "conditionering_victim", message: "mijn keuzes voelen vrij maar zijn aangeleerd", delay: 5000 }
            ],
            "kamer-vs-feed": [
                { username: "clip_over_speech", message: "8 min betoog < 60 sec clip", delay: 400 },
                { username: "vk_logic", message: "VK pakt de short, not the speech", delay: 900 },
                { username: "performance", message: "representatie = performance now", delay: 1400 }
            ],
            "hoofdstuk-7": [
                { username: "meta_realization", message: "het ritme zit nu in mijn hoofd... help", delay: 1000 },
                { username: "neuroplasticity_horror", message: "dopamine heeft mijn brein herschreven", delay: 2000 },
                { username: "format_denker", message: "ik denk in hooks en cliffhangers", delay: 3000 },
                { username: "infrastructuur_kind", message: "geen ontsnapping... dit IS de werkelijkheid", delay: 4000 },
                { username: "hegemonie_begrijper", message: "grootste macht = macht die voelt als natuur", delay: 5000 }
            ],
            "hoofdstuk-8": [
                { username: "bewust_geworden", message: "ik zie de machine... nu wat?", delay: 1000 },
                { username: "ontsnapping_illusie", message: "geen buiten, alleen bewuste participatie", delay: 2000 },
                { username: "micro_keuzes", message: "3 seconden pauze = micro-verzet", delay: 3000 },
                { username: "format_rebel", message: "bewust chaotisch posten = systeem doorbreken", delay: 4000 },
                { username: "nieuwe_mediawijsheid", message: "niet minder posten, bewuster posten", delay: 5000 }
            ],
            "hoofdstuk-9": [
                { username: "echo_spotter", message: "billboards die TikToks zijn... feed is uit scherm gekropen", delay: 1000 },
                { username: "alphago_chess", message: "zet 37 maar dan voor social media", delay: 2000 },
                { username: "veldkamp_tracker", message: "kabinet valt door trending hashtags 💀", delay: 3000 },
                { username: "fysiek_digitaal", message: "fysieke wereld imiteert nu de feed", delay: 4000 },
                { username: "tail_wags_dog", message: "feed schrijft scripts voor offline leven", delay: 5000 }
            ],
            "alphago": [
                { username: "zet37", message: "zet37 vibes", delay: 400 },
                { username: "vorm_baas", message: "vorm > inhoud confirmed", delay: 900 },
                { username: "rewrite_self", message: "we herschrijven onszelf fr", delay: 1400 }
            ],
            "raja-followup": [
                { username: "trendwatch", message: "#banraja trendt nu…", delay: 1000 }
            ],
            "einde": [
                { username: "thread_food", message: "dit wordt thread food", delay: 500 },
                { username: "save_share", message: "save en doorsturen", delay: 1200 },
                { username: "ccby", message: "CC BY gang W", delay: 1800 }
            ],
            "epiloog": [
                { username: "homo_algorithmicus", message: "we zijn een nieuwe soort geworden", delay: 1000 },
                { username: "peuter_in_buggy", message: "dat kind in Thailand... dat zijn wij allemaal", delay: 2000 },
                { username: "grens_getuige", message: "laatste die beide werelden kent", delay: 3000 },
                { username: "stilte_verdwijnt", message: "straks weet niemand meer hoe stilte klinkt", delay: 4000 },
                { username: "infrastructuur_mens", message: "niet genen maar infrastructuur bepaalt evolutie", delay: 5000 }
            ]
        };

        function setMode(mode) {
            
            
            // Clear previous mode
            try {
                stopScrollTracking();
                clearChat();
                stopFingerprinting();
                // Don't reset fingerprintingTriggered - let it persist across mode switches
            } catch(e) {
                
            }
            
            currentMode = mode;
            const body = document.body;
            
            // Update button states
            document.querySelectorAll('.experience-option').forEach(btn => btn.classList.remove('active'));
            const targetBtn = document.getElementById(mode + 'Btn');
            if (targetBtn) {
                targetBtn.classList.add('active');
            } else {
                console.error('Button not found for mode:', mode + 'Btn');
            }
            
            // Remove all mode classes
            body.classList.remove('meme-mode');
            
            // Set new mode
            switch(mode) {
                case 'meme':
                    
                    body.classList.add('meme-mode');
                    try {
                        startScrollTracking();
                        startRandomChatter();
                        // Welcome header scene snippets
                        triggerChatForSection('welcome');
                    } catch(e) {
                        console.error('Error starting meme mode functions:', e);
                    }
                    // Start brainrot video
                    const video = document.getElementById('brainrotVideo');
                    if (video) {
                        video.play().catch(() => {});
                    }
                    // Add subtle floating animation
                    startBrainrotFloating();
                    break;

                case 'normal':
                default:
                    
                    // Normal mode is default state
                    pauseBrainrotVideo();
                    break;
            }
        }
        
        function pauseBrainrotVideo() {
            const video = document.getElementById('brainrotVideo');
            if (video) {
                video.pause();
            }
            stopBrainrotFloating();
        }
        
        let brainrotFloatingInterval = null;
        
        function startBrainrotFloating() {
            const box = document.getElementById('brainrotBox');
            if (!box) return;
            
            let offset = 0;
            brainrotFloatingInterval = setInterval(() => {
                offset += 0.5;
                const float = Math.sin(offset) * 3; // Subtle 3px floating motion
                box.style.transform = `translateY(calc(-50% + ${float}px))`;
            }, 50);
        }
        
        function stopBrainrotFloating() {
            if (brainrotFloatingInterval) {
                clearInterval(brainrotFloatingInterval);
                brainrotFloatingInterval = null;
            }
            const box = document.getElementById('brainrotBox');
            if (box) {
                box.style.transform = 'translateY(-50%)';
            }
        }
        
        function toggleChat() {
            const chat = document.getElementById('streamChat');
            const btn = document.getElementById('chatCollapseBtn');
            
            if (chat.classList.contains('collapsed')) {
                chat.classList.remove('collapsed');
                btn.textContent = '−';
                } else {
                chat.classList.add('collapsed');
                btn.textContent = '+';
            }
        }
        
        function toggleBrainrot() {
            
            const box = document.getElementById('brainrotBox');
            const btn = document.getElementById('brainrotCollapseBtn');
            const video = document.getElementById('brainrotVideo');
            
            if (!box || !btn || !video) {
                console.error('Brainrot elements not found');
                return;
            }
            
            if (box.classList.contains('collapsed')) {
                
                box.classList.remove('collapsed');
                btn.textContent = '−';
                if (currentMode === 'meme') {
                    video.play().catch(() => {});
                    startBrainrotFloating();
                }
            } else {
                
                box.classList.add('collapsed');
                btn.textContent = '+';
                video.pause();
                stopBrainrotFloating();
            }
        }

        function createChatMessage(a, b, c) {
            // Back-compat: allow (username, message, highlight?) or object payload
            const payload = (typeof a === 'object')
                ? a
                : { username: a, message: b, highlight: !!c, type: 'normal' };

            const { username, message, highlight = false, type = 'normal', badge, system = false } = payload;

            const chatContainer = document.getElementById('chatMessagesContainer');
            if (!chatContainer) return;
            const el = document.createElement('div');

            const classes = ['chat-message'];
            if (highlight) classes.push('highlight');
            if (system || type === 'system') classes.push('system');
            if (['dono', 'pin', 'raid', 'deleted'].includes(type)) classes.push(type);
            
            // keep existing random role colouring for normal user messages
            if (!system && !['dono', 'pin', 'raid', 'deleted', 'system'].includes(type)) {
                const userTypes = ['normal', 'mod', 'vip', 'sub'];
                const randomType = Math.random() > 0.8 ? userTypes[Math.floor(Math.random() * userTypes.length)] : 'normal';
                classes.push(randomType);
            }

            el.className = classes.join(' ');
            const badgeHTML = badge ? `<span class="badge ${badge}">${badge.toUpperCase()}</span>` : '';
            const nameHTML = (system || type === 'system') ? '' : `<span class="username">${badgeHTML}${username}:</span>`;
            el.innerHTML = `${nameHTML} <span class="message">${message}</span>`;

            chatContainer.appendChild(el);
            setTimeout(() => el.classList.add('visible'), 60);
            chatContainer.scrollTop = chatContainer.scrollHeight;
            if (chatContainer.children.length > 50) chatContainer.removeChild(chatContainer.firstChild);
            if (Math.random() > 0.7) updateViewerCount();
        }

        // Chat helpers
        function pinMessage(text) { createChatMessage({ type: 'pin', system: true, message: '📌 ' + text }); }
        function raid(from, n) { createChatMessage({ type: 'raid', system: true, message: `RAID door @${from} (${n.toLocaleString()})` }); currentViewers += n * 0.6; updateViewerCount(); }
        function dono(user, amt) { createChatMessage({ type: 'dono', username: user, message: `donated €${amt.toFixed(2)} – “clip it!”` }); }
        function modDelete(reason) { createChatMessage({ type: 'deleted', system: true, message: `bericht verwijderd (${reason})` }); }
        function slowMode(s) { createChatMessage({ type: 'system', system: true, message: `[slow mode ${s}s]` }); }

        function showPoll(question, options, duration = 60000) {
            const id = 'poll-' + Date.now();
            createChatMessage({ type: 'system', system: true, message: `🗳️ POLL: ${question} – ${options.map((o, i) => `${i + 1}) ${o}`).join('  ')}` });
            const votes = new Array(options.length).fill(0);
            const iv = setInterval(() => { votes[Math.floor(Math.random() * options.length)]++; }, 900);
            setTimeout(() => {
                clearInterval(iv);
                const total = votes.reduce((a, b) => a + b, 0) || 1;
                const res = options.map((o, i) => `${o} ${((100 * votes[i] / total) | 0)}%`).join(' • ');
                createChatMessage({ type: 'system', system: true, message: `✅ Poll klaar: ${res}` });
            }, duration);
        }

        function clearChat() {
            const chatContainer = document.getElementById('chatMessagesContainer');
            chatContainer.innerHTML = '';
            activeTimeouts.forEach(timeout => clearTimeout(timeout));
            activeTimeouts = [];
        }

        // Dynamic viewer count based on reading progress
        let currentViewers = 12;
        let chatActivity = 0.1; // Start very low
        
        function updateViewerCount() {
            const viewerCountEl = document.getElementById('viewerCount');
            if (viewerCountEl) {
                // Add some organic growth with occasional spikes
                const growth = Math.random() * 3 + (chatActivity * 2);
                const spike = Math.random() > 0.95 ? Math.random() * 50 : 0; // 5% chance of spike
                
                currentViewers += growth + spike;
                
                // Cap at reasonable max
                currentViewers = Math.min(currentViewers, 15000);
                
                const displayCount = Math.floor(currentViewers);
                viewerCountEl.textContent = `${displayCount.toLocaleString()} viewers`;
            }
        }

        function calculateProgressMultiplier() {
            const scrollPosition = window.scrollY;
            const documentHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = Math.min(scrollPosition / documentHeight, 1);
            
            // Exponential growth curve - starts slow, explodes later
            const multiplier = Math.pow(progress * 2, 2.5);
            
            // Update chat activity level
            chatActivity = Math.min(multiplier, 3); // Cap at 3x activity
            
            return multiplier;
        }

        function getViewerStage() {
            if (currentViewers < 50) return 'discovery';
            if (currentViewers < 200) return 'growing';
            if (currentViewers < 1000) return 'trending';
            if (currentViewers < 5000) return 'viral';
            return 'explosion';
        }

        function triggerRajaExplosion() {
            // Massive viewer spike
            currentViewers += 2000 + Math.random() * 3000;
            chatActivity = 5; // Maximum chaos
            
            // Force-open and animate the chat, and resist collapsing during incident
            try {
                const chat = document.getElementById('streamChat');
                const btn = document.getElementById('chatCollapseBtn');
                if (chat) {
                    chat.classList.remove('collapsed');
                    // Kick in from off-screen if hidden by non-meme state later
                    chat.classList.add('exploding');
                    setTimeout(() => chat.classList.remove('exploding'), 700);
                }
                if (btn) btn.textContent = '−';

                // Temporarily override toggle to fight closing for a short window
                const originalToggle = window.toggleChat;
                const fightUntil = Date.now() + 20000; // 20s of resistance
                window.toggleChat = function() {
                    const now = Date.now();
                    const withinIncident = now < fightUntil;
                    const chatEl = document.getElementById('streamChat');
                    const btnEl = document.getElementById('chatCollapseBtn');
                    if (withinIncident) {
                        if (btnEl) {
                            btnEl.classList.add('fighting');
                            setTimeout(() => btnEl.classList.remove('fighting'), 400);
                        }
                        // Immediately reopen if user tries to collapse
                        if (chatEl && chatEl.classList.contains('collapsed')) {
                            chatEl.classList.remove('collapsed');
                            if (btnEl) btnEl.textContent = '−';
                            chatEl.classList.add('exploding');
                            setTimeout(() => chatEl.classList.remove('exploding'), 700);
                        }
                        return; // Ignore collapse during incident
                    }
                    // After the window, restore original behavior
                    if (typeof originalToggle === 'function') {
                        window.toggleChat = originalToggle;
                        return window.toggleChat();
                    }
                };
            } catch (e) {}

            // Immediate explosion messages
            const explosionMessages = [
                { username: "HOLY_SHIT", message: "YOOOOOOO 😱😱😱", delay: 0 },
                { username: "rage_watcher", message: "THIS IS INSANE", delay: 100 },
                { username: "kick_addict", message: "CLIP IT CLIP IT CLIP IT", delay: 200 },
                { username: "violence_enjoyer", message: "GET HIM RAJA 💪💪💪", delay: 300 },
                { username: "chat_goes_brrrr", message: "CHAT IS MOVING SO FAST", delay: 400 },
                { username: "poggers_spam", message: "PogChamp PogChamp PogChamp", delay: 500 },
                { username: "donation_alert", message: "SOMEONE JUST DONATED $500 💰", delay: 600 },
                { username: "livestream_chaos", message: "THIS IS GOING VIRAL RN", delay: 700 },
                { username: "twitch_refugee", message: "KICK > TWITCH 🔥🔥🔥", delay: 800 },
                { username: "emote_spammer", message: "Kappa Kappa Kappa Kappa", delay: 900 },
                { username: "all_caps_andy", message: "SOMEONE CALL THE COPS", delay: 1000 },
                { username: "reaction_hunter", message: "xQc needs to see this", delay: 1100 },
                { username: "trending_hunter", message: "#RAJA IS TRENDING", delay: 1200 },
                { username: "ban_incoming", message: "HE'S GETTING BANNED FOR SURE", delay: 1300 },
                { username: "clip_chimp", message: "SENDING TO DRAMA CHANNELS", delay: 1400 },
                { username: "hype_train", message: "🚂💨💨💨💨💨💨", delay: 1500 },
                { username: "viewer_counter", message: "50K VIEWERS INCOMING", delay: 1600 },
                { username: "algorithm_slave", message: "THE ALGORITHM IS FEEDING", delay: 1700 },
                { username: "content_brain", message: "THIS IS CONTENT GOLD", delay: 1800 },
                { username: "chaos_lord", message: "ABSOLUTE MAYHEM 🔥🔥🔥", delay: 1900 }
            ];
            
            // Continuous spam for 30 seconds
            explosionMessages.forEach(msg => {
                setTimeout(() => {
                    createChatMessage(msg.username, msg.message, true);
                }, msg.delay);
            });
            
            // Sustained chaos with rapid-fire messages
            let spamCount = 0;
            const spamMessages = [
                "HOLY SHIT",
                "NO WAY",
                "CLIP IT",
                "BAN INCOMING",
                "VIRAL",
                "INSANE",
                "POGGERS",
                "Kappa",
                "💀💀💀",
                "🔥🔥🔥",
                "BASED",
                "CRINGE",
                "YIKES",
                "OMEGALUL",
                "NOWAY",
                "REAL"
            ];
            
            function rajaChaosSpam() {
                if (spamCount < 100) { // 100 rapid messages
                    const randomUser = `chaos_${Math.floor(Math.random() * 999)}`;
                    const randomMsg = spamMessages[Math.floor(Math.random() * spamMessages.length)];
                    createChatMessage(randomUser, randomMsg, Math.random() > 0.7);
                    
                    spamCount++;
                    setTimeout(rajaChaosSpam, 100 + Math.random() * 200); // Very fast
                }
            }
            
            // Start the chaos spam after initial explosion
            setTimeout(rajaChaosSpam, 2000);
            
            // Update viewer count dramatically
            setTimeout(() => {
                updateViewerCount();
            }, 500);
            
            // Additional waves of messages
            setTimeout(() => {
                createChatMessage("news_reporter", "THIS IS BREAKING NEWS", true);
                createChatMessage("police_bot", "🚨 AUTHORITIES HAVE BEEN NOTIFIED 🚨", true);
                createChatMessage("ban_hammer", "ACCOUNT SUSPENDED IN 3... 2... 1...", true);
            }, 5000);

            // Follow-up: donations, slowmode, moderation, and section-specific chat
            setTimeout(() => {
                try {
                    dono('PrimeSubbie', 4.99);
                    slowMode(5);
                    modDelete('geweldspam');
                    triggerChatForSection('raja-followup');
                } catch(e) { }
            }, 3000);
        }

        function triggerChatForSection(sectionId) {
            if (currentMode !== 'meme' || !chatData[sectionId]) return;
            
            const messages = chatData[sectionId];
            messages.forEach(msg => {
                const delay = (msg && typeof msg === 'object' && 'delay' in msg) ? (msg.delay || 0) : 0;
                const timeout = setTimeout(() => {
                    if (msg && typeof msg === 'object' && 'username' in msg) {
                        createChatMessage(msg.username, msg.message, Math.random() > 0.8);
                    } else if (msg && typeof msg === 'object') {
                        createChatMessage(msg);
                    } else if (typeof msg === 'string') {
                        createChatMessage('anon', msg, Math.random() > 0.8);
                    }
                }, delay);
                activeTimeouts.push(timeout);
            });

            // Section-specific mechanics
            try {
                switch(sectionId) {
                    case 'dag-nul':
                        modDelete('linkdump');
                        slowMode(2);
                        break;
                    case 'crossover':
                        raid('beautylotte', 1200);
                        pinMessage('“hook in 2 sec” is real');
                        break;
                    case 'week-1':
                        showPoll('Beste format?', ['slides', 'storytime', 'duet'], 45000);
                        break;
                }
            } catch(e) { }
        }

        // Global tracking flags
        let fingerprintingTriggered = false;
        
        function startScrollTracking() {
            if (currentMode !== 'meme') return;
            
            // Initial welcome messages
            setTimeout(() => createChatMessage("dopamineDefender", "LETS GOOOO 🔥🔥🔥", true), 500);
            setTimeout(() => createChatMessage("algoSlave", "finally someone gets it", false), 1500);
            setTimeout(() => createChatMessage("feedJunkie", "this hits different when you're scrolling 💀", false), 2500);
            
            let ticking = false;
            let rajaTriggered = false;
            
            function updateScroll() {
                const sections = [
                    { id: 'license', element: document.querySelector('.license') },
                    { id: 'hoofdstuk-1', element: document.querySelector('h1') },
                    { id: 'formatvorming', element: document.querySelector('h2') },
                    { id: 'tegenreactie', text: 'tegenreactie' },
                    { id: 'versnelling', text: 'versnelling' },
                    { id: 'systematisering', text: 'systematisering' },
                    { id: 'het-patroon', text: 'Het patroon' },
                    { id: 'hoofdstuk-2', text: 'Hoofdstuk 2' },
                    { id: 'hoofdstuk-3', text: 'Hoofdstuk 3' },
                    { id: 'hoofdstuk-5', text: 'Hoofdstuk 5' },
                    { id: 'hoofdstuk-6', text: 'Hoofdstuk 6' },
                    { id: 'hoofdstuk-7', text: 'Hoofdstuk 7' },
                    { id: 'hoofdstuk-8', text: 'Hoofdstuk 8' }
                ];
                
                const scrollPos = window.scrollY + window.innerHeight / 2;
                
                // Special Raja explosion trigger
                if (!rajaTriggered) {
                    const rajaElements = document.querySelectorAll('p');
                    const rajaElement = Array.from(rajaElements).find(p => 
                        p.textContent.includes('Raja Jackson') || p.textContent.includes('They told me to hit the guy')
                    );
                    
                    if (rajaElement) {
                        const rect = rajaElement.getBoundingClientRect();
                        const elementTop = rect.top + window.scrollY;
                        
                        if (scrollPos >= elementTop && scrollPos <= elementTop + 200) {
                            rajaTriggered = true;
                            triggerRajaExplosion();
                        }
                    }
                }
                
                // Check for fingerprinting trigger in meme mode
                if (!fingerprintingTriggered) {
                    const watDitBlootlegtSection = document.getElementById('wat-dit-blootlegt');
                    if (watDitBlootlegtSection) {
                        const rect = watDitBlootlegtSection.getBoundingClientRect();
                        const windowHeight = window.innerHeight;
                        
                        // Trigger when heading comes into view (generous trigger area)
                        if (rect.top < windowHeight && rect.bottom > -200) {
                            fingerprintingTriggered = true;
                            startFingerprinting();
                            try { triggerChatForSection('fp-live'); } catch(e){}
                            
                            // Auto-hide after 15 seconds
                            setTimeout(() => { stopFingerprinting(); }, 15000);
                        }
                    }
                }
                
                sections.forEach(section => {
                    let element = section.element;
                    if (!element && section.text) {
                        // Find element by text content
                        const headings = document.querySelectorAll('h1, h2, h3');
                        element = Array.from(headings).find(h => 
                            h.textContent.toLowerCase().includes(section.text.toLowerCase())
                        );
                    }
                    
                    if (element) {
                        const rect = element.getBoundingClientRect();
                        const elementTop = rect.top + window.scrollY;
                        
                        if (scrollPos >= elementTop && scrollPos <= elementTop + 300) {
                            if (!element.dataset.chatTriggered) {
                                element.dataset.chatTriggered = 'true';
                                triggerChatForSection(section.id);
                            }
                        }
                    }
                });
                
                ticking = false;
            }
            
            function requestTick() {
                if (!ticking) {
                    requestAnimationFrame(updateScroll);
                    ticking = true;
                }
            }
            
            window.addEventListener('scroll', requestTick);

            // Precise chat anchors via IntersectionObserver
            try {
                const io = new IntersectionObserver((entries) => {
                    entries.forEach(e => {
                        if (e.isIntersecting) {
                            const key = e.target.dataset.chat;
                            if (key) {
                                triggerChatForSection(key);
                                e.target.removeAttribute('data-chat'); // one-shot
                                io.unobserve(e.target);
                            }
                        }
                    });
                }, { threshold: 0.6 });
                document.querySelectorAll('[data-chat]').forEach(el => io.observe(el));
            } catch(e) { }
            
            // Store the scroll listener for cleanup
            window.memeScrollListener = requestTick;
        }

        function stopScrollTracking() {
            if (window.memeScrollListener) {
                window.removeEventListener('scroll', window.memeScrollListener);
            }
            
            // Reset chat triggered flags
            document.querySelectorAll('[data-chat-triggered]').forEach(el => {
                delete el.dataset.chatTriggered;
            });
        }

        // Fingerprinting functions
        function collectFingerprint() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            ctx.textBaseline = 'top';
            ctx.font = '14px Arial';
            ctx.textBaseline = 'alphabetic';
            ctx.fillText('Browser fingerprint test 🔍', 2, 2);
            
            return {
                userAgent: navigator.userAgent,
                language: navigator.language,
                languages: navigator.languages,
                platform: navigator.platform,
                cookieEnabled: navigator.cookieEnabled,
                doNotTrack: navigator.doNotTrack,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                timezoneOffset: new Date().getTimezoneOffset(),
                screen: {
                    width: screen.width,
                    height: screen.height,
                    colorDepth: screen.colorDepth,
                    pixelDepth: screen.pixelDepth,
                    availWidth: screen.availWidth,
                    availHeight: screen.availHeight
                },
                window: {
                    innerWidth: window.innerWidth,
                    innerHeight: window.innerHeight,
                    outerWidth: window.outerWidth,
                    outerHeight: window.outerHeight,
                    devicePixelRatio: window.devicePixelRatio
                },
                canvas: canvas.toDataURL(),
                webgl: getWebGLFingerprint(),
                fonts: detectFonts(),
                plugins: getPlugins(),
                localStorage: !!window.localStorage,
                sessionStorage: !!window.sessionStorage,
                indexedDB: !!window.indexedDB,
                webWorkers: !!window.Worker,
                touchSupport: 'ontouchstart' in window,
                timestamp: Date.now(),
                readingTime: 0,
                scrollEvents: 0,
                clickEvents: 0
            };
        }

        function getWebGLFingerprint() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (!gl) return 'WebGL not supported';
                
                return {
                    vendor: gl.getParameter(gl.VENDOR),
                    renderer: gl.getParameter(gl.RENDERER),
                    version: gl.getParameter(gl.VERSION),
                    shadingLanguageVersion: gl.getParameter(gl.SHADING_LANGUAGE_VERSION)
                };
            } catch (e) {
                return 'WebGL error';
            }
        }

        function detectFonts() {
            const testString = 'mmmmmmmmmmlli';
            const testSize = '72px';
            const baseFonts = ['monospace', 'sans-serif', 'serif'];
            const fontList = [
                'Arial', 'Helvetica', 'Times New Roman', 'Times', 'Courier New', 'Courier',
                'Verdana', 'Georgia', 'Comic Sans MS', 'Trebuchet MS', 'Arial Black', 'Impact'
            ];
            
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            
            const baseFontWidths = {};
            baseFonts.forEach(font => {
                context.font = testSize + ' ' + font;
                baseFontWidths[font] = context.measureText(testString).width;
            });
            
            const detectedFonts = [];
            fontList.forEach(font => {
                baseFonts.forEach(baseFont => {
                    context.font = testSize + ' ' + font + ', ' + baseFont;
                    const width = context.measureText(testString).width;
                    if (width !== baseFontWidths[baseFont]) {
                        if (!detectedFonts.includes(font)) {
                            detectedFonts.push(font);
                        }
                    }
                });
            });
            
            return detectedFonts;
        }

        function getPlugins() {
            const plugins = [];
            for (let i = 0; i < navigator.plugins.length; i++) {
                plugins.push({
                    name: navigator.plugins[i].name,
                    filename: navigator.plugins[i].filename
                });
            }
            return plugins;
        }

        function startFingerprinting() {
            
            const overlay = document.getElementById('fingerprintOverlay');
            if (overlay) {
                overlay.classList.add('active');
                
                    } else {
                console.error('Fingerprint overlay not found');
            }
            
            let sessionData = collectFingerprint();
            let eventCounts = { scroll: 0, click: 0, keypress: 0, mouse: 0 };
            window.__sessionData = sessionData; // expose for admin summary
            
            function updateFingerprint() {
                sessionData.readingTime = Date.now() - sessionData.timestamp;
                sessionData.scrollEvents = eventCounts.scroll;
                sessionData.clickEvents = eventCounts.click;
                sessionData.keypressEvents = eventCounts.keypress;
                sessionData.mouseEvents = eventCounts.mouse;
                
                displayFingerprint(sessionData);
                window.__sessionData = sessionData;
            }
            
            // Track user events
            const scrollHandler = () => { eventCounts.scroll++; };
            const clickHandler = () => { eventCounts.click++; };
            const keyHandler = () => { eventCounts.keypress++; };
            const mouseHandler = () => { eventCounts.mouse++; };
            
            window.addEventListener('scroll', scrollHandler);
            document.addEventListener('click', clickHandler);
            document.addEventListener('keypress', keyHandler);
            document.addEventListener('mousemove', mouseHandler);
            
            // Store handlers for cleanup
            window.fingerprintHandlers = { scrollHandler, clickHandler, keyHandler, mouseHandler };
            
            // Update every 2 seconds
            fingerprintingInterval = setInterval(updateFingerprint, 2000);
            updateFingerprint(); // Initial display
        }

        function stopFingerprinting() {
            // Hide all widgets with smooth animation
            const overlay = document.getElementById('fingerprintOverlay');
            if (overlay) {
                const widgets = overlay.querySelectorAll('.fingerprint-widget');
                widgets.forEach((widget, index) => {
                    setTimeout(() => {
                        widget.classList.remove('visible');
                    }, index * 100); // Stagger hide animation
                });
                
                // Remove overlay active state after all widgets are hidden
                setTimeout(() => {
                    overlay.classList.remove('active');
                    overlay.innerHTML = ''; // Clear all widgets
                }, widgets.length * 100 + 500);
            }
            
            // Clear interval and event handlers
            if (fingerprintingInterval) {
                clearInterval(fingerprintingInterval);
                fingerprintingInterval = null;
            }
            
            if (window.fingerprintHandlers) {
                window.removeEventListener('scroll', window.fingerprintHandlers.scrollHandler);
                document.removeEventListener('click', window.fingerprintHandlers.clickHandler);
                document.removeEventListener('keypress', window.fingerprintHandlers.keyHandler);
                document.removeEventListener('mousemove', window.fingerprintHandlers.mouseHandler);
                delete window.fingerprintHandlers;
            }
            
            // Reset the trigger so it can be activated again if user scrolls past and back
            setTimeout(() => {
                fingerprintingTriggered = false;
            }, 2000);
        }

        function displayFingerprint(data) {
            const container = document.getElementById('fingerprintOverlay');
            
            const widgets = [
                {
                    id: 'browser',
                    title: 'Jouw Browser',
                    content: `
                        <div class="fingerprint-data-item">
                            <span class="label">Platform</span>
                            <span class="value">${data.platform}</span>
                        </div>
                        <div class="fingerprint-data-item">
                            <span class="label">Taal</span>
                            <span class="value">${data.language}</span>
                        </div>
                    `
                },
                {
                    id: 'screen',
                    title: 'Jouw Scherm',
                    content: `
                        <div class="fingerprint-data-item">
                            <span class="label">Resolutie</span>
                            <span class="value">${data.screen.width}×${data.screen.height}</span>
                        </div>
                        <div class="fingerprint-data-item">
                            <span class="label">Pixel Ratio</span>
                            <span class="value">${data.window.devicePixelRatio}x</span>
                        </div>
                    `
                },
                {
                    id: 'behavior',
                    title: 'Jouw Gedrag',
                    content: `
                        <div class="fingerprint-data-item">
                            <span class="label">Leestijd</span>
                            <span class="value">${Math.floor(data.readingTime / 1000)}s</span>
                        </div>
                        <div class="fingerprint-data-item">
                            <span class="label">Scrolls</span>
                            <span class="value">${data.scrollEvents}</span>
                        </div>
                    `
                },
                {
                    id: 'unique',
                    title: 'Jouw ID',
                    content: `
                        <div class="fingerprint-data-item">
                            <span class="label">Unieke Code</span>
                            <span class="value">${hashCode(JSON.stringify(data)).toString(16).toUpperCase().substring(0, 8)}</span>
                        </div>
                    `
                }
            ];
            
            // Clear existing widgets
            container.innerHTML = '';
            
            // Create widgets
            widgets.forEach((widget, index) => {
                const widgetEl = document.createElement('div');
                widgetEl.className = `fingerprint-widget fp-widget-${index + 1}`;
                widgetEl.innerHTML = `
                    <h4>${widget.title}</h4>
                    <div class="fingerprint-data">${widget.content}</div>
                `;
                container.appendChild(widgetEl);
                
                // Animate in with staggered delay
                setTimeout(() => {
                    widgetEl.classList.add('visible');
                }, 200 * (index + 1));
            });
        }

        function hashCode(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash; // Convert to 32bit integer
            }
            return Math.abs(hash);
        }

        // Add dynamic random chat activity based on viewer growth
        function addRandomChatter() {
            if (currentMode !== 'meme') return;
            
            const stage = getViewerStage();
            const multiplier = calculateProgressMultiplier();
            
            const stageMessages = {
                discovery: [
                    { username: "vroege_lezer", message: "is er nog iemand?" },
                    { username: "boekenwurm92", message: "interessant concept" },
                    { username: "lurker_01", message: "👀" },
                    { username: "nieuwsgierig_aap", message: "hmm dit is anders" }
                ],
                growing: [
                    { username: "algo_twijfelaar", message: "wacht dit klopt wel" },
                    { username: "student_leven", message: "aantekeningen maken 📝" },
                    { username: "te_laat_bij_feestje", message: "hoe vond ik dit?" },
                    { username: "denker_2024", message: "dit is eigenlijk best goed" },
                    { username: "kritische_blik", message: "eindelijk iemand die het snapt" }
                ],
                trending: [
                    { username: "viral_jager", message: "dit gaat exploderen bro" },
                    { username: "share_koning", message: "naar iedereen sturen nu" },
                    { username: "mindblown_nl", message: "BROOO 🤯" },
                    { username: "tiktoker_nl", message: "response video maken" },
                    { username: "thread_maker", message: "Twitter thread incoming" },
                    { username: "algo_slachtoffer", message: "algoritme bracht me hier" }
                ],
                viral: [
                    { username: "notificatie_squad", message: "NOTIFICATIE GANG" },
                    { username: "deel_meester", message: "al naar 5 groepschats gestuurd" },
                    { username: "clout_jager", message: "dit is overal nu" },
                    { username: "trend_surfer", message: "meerijden op deze wave 🌊" },
                    { username: "randstad_kid", message: "mijn hele FYP is dit nu" },
                    { username: "provinciaal", message: "ook op het platteland viral" }
                ],
                explosion: [
                    { username: "chaos_liefhebber", message: "CHAT GAAT TE SNEL" },
                    { username: "spam_koning", message: "Kappa Kappa Kappa" },
                    { username: "hype_trein", message: "🚂💨💨💨" },
                    { username: "caps_jongen", message: "DIT IS KRANKJORUM" },
                    { username: "emote_spammer", message: "PogChamp PogChamp PogChamp" },
                    { username: "snelheids_demon", message: "kan chat niet bijhouden" },
                    { username: "nederlandse_chaos", message: "NEDERLAND GAAT LOS" }
                ]
            };
            
            const messages = stageMessages[stage] || stageMessages.discovery;
            
            // Probability of message based on activity level
            const messageProbability = Math.min(0.1 + (chatActivity * 0.3), 0.9);
            
            if (Math.random() < messageProbability) {
                const msg = messages[Math.floor(Math.random() * messages.length)];
                createChatMessage(msg.username, msg.message);
                
                // Update viewer count occasionally
                if (Math.random() > 0.8) {
                    updateViewerCount();
                }
            }
            
            // Faster intervals as activity increases
            const baseInterval = 10000;
            const activityInterval = Math.max(2000, baseInterval - (chatActivity * 3000));
            const randomVariance = Math.random() * 3000;
            
            setTimeout(addRandomChatter, activityInterval + randomVariance);
        }

        // Start random chatter when meme mode is enabled
        function startRandomChatter() {
            if (currentMode === 'meme') {
                setTimeout(addRandomChatter, 5000);
            }
        }

        // Populate live fingerprint in story
        function populateStoryFingerprint() {
            const data = collectFingerprint();
            const container = document.getElementById('readerFingerprint');
            const deviceSpan = document.getElementById('yourDevice');
            
            if (container) {
                // Determine device type
                const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(data.userAgent);
                const isApple = /iPhone|iPad|iPod|Mac/i.test(data.userAgent);
                const deviceType = isMobile ? (isApple ? 'iPhone/iPad' : 'Android') : (isApple ? 'Mac' : 'PC');
                
                container.innerHTML = `
                    <div class="fingerprint-line">
                        <span class="fp-label">Apparaat:</span>
                        <span class="fp-value">${deviceType} (${data.platform})</span>
                    </div>
                    <div class="fingerprint-line">
                        <span class="fp-label">Browser:</span>
                        <span class="fp-value">${getBrowserName(data.userAgent)}</span>
                    </div>
                    <div class="fingerprint-line">
                        <span class="fp-label">Scherm:</span>
                        <span class="fp-value">${data.screen.width} × ${data.screen.height} pixels</span>
                    </div>
                    <div class="fingerprint-line">
                        <span class="fp-label">Tijdzone:</span>
                        <span class="fp-value">${data.timezone}</span>
                    </div>
                    <div class="fingerprint-line">
                        <span class="fp-label">Taal:</span>
                        <span class="fp-value">${data.language}</span>
                    </div>
                    <div class="fingerprint-line">
                        <span class="fp-label">Fonts:</span>
                        <span class="fp-value">${data.fonts.slice(0, 5).join(', ')}${data.fonts.length > 5 ? '...' : ''}</span>
                    </div>
                    <div class="fingerprint-line">
                        <span class="fp-label">Unieke ID:</span>
                        <span class="fp-value">${hashCode(JSON.stringify(data)).toString(16).toUpperCase()}</span>
                    </div>
                `;
            }
            
            if (deviceSpan) {
                deviceSpan.textContent = `${deviceType} met ${getBrowserName(data.userAgent)}`;
            }
        }

        function getBrowserName(userAgent) {
            if (userAgent.includes('Chrome') && !userAgent.includes('Edg')) return 'Chrome';
            if (userAgent.includes('Firefox')) return 'Firefox';
            if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) return 'Safari';
            if (userAgent.includes('Edg')) return 'Edge';
            if (userAgent.includes('Opera')) return 'Opera';
            return 'Onbekende browser';
        }

        // Meme Generator Variables
        let selectedText = '';
        let currentTemplate = 'tiktok';

        // Text Selection Handler
        document.addEventListener('mouseup', function(e) {
            if (currentMode !== 'meme') return;
            
            const selection = window.getSelection();
            const text = selection.toString().trim();
            
            if (text.length > 10 && text.length < 280) {
                selectedText = text;
                showMemePopup(e.pageX, e.pageY);
            } else {
                hideMemePopup();
            }
        });

        function showMemePopup(x, y) {
            const popup = document.getElementById('memeSelectionPopup');
            popup.style.left = x + 'px';
            popup.style.top = (y - 50) + 'px';
            popup.classList.add('visible');
            
            popup.onclick = function() {
                openMemeGenerator();
                hideMemePopup();
            };
        }

        function hideMemePopup() {
            document.getElementById('memeSelectionPopup').classList.remove('visible');
        }

        function openMemeGenerator() {
            document.getElementById('selectedTextDisplay').textContent = `"${selectedText}"`;
            document.getElementById('memeGeneratorModal').style.display = 'flex';
            generateMeme();
        }

        function closeMemeGenerator() {
            document.getElementById('memeGeneratorModal').style.display = 'none';
            window.getSelection().removeAllRanges();
        }

        function selectTemplate(template) {
            currentTemplate = template;
            
            // Update UI
            document.querySelectorAll('.template-option').forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-template="${template}"]`).classList.add('selected');
            
            generateMeme();
        }

        function generateMeme() {
            const canvas = document.getElementById('memeCanvas');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            switch(currentTemplate) {
                case 'tiktok':
                    generateTikTokMeme(ctx, canvas);
                    break;
                case 'linkedin':
                    generateLinkedInMeme(ctx, canvas);
                    break;
                case 'twitter':
                    generateTwitterMeme(ctx, canvas);
                    break;
                case 'classic':
                    generateClassicMeme(ctx, canvas);
                        break;
                }
        }

        function generateTikTokMeme(ctx, canvas) {
            // Black background
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Text
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 32px Arial';
            ctx.textAlign = 'center';
            
            const words = selectedText.split(' ');
            const lines = [];
            let currentLine = '';
            
            words.forEach(word => {
                const testLine = currentLine + (currentLine ? ' ' : '') + word;
                const metrics = ctx.measureText(testLine);
                if (metrics.width > canvas.width - 60 && currentLine !== '') {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = testLine;
                }
            });
            lines.push(currentLine);
            
            const lineHeight = 40;
            const startY = (canvas.height - (lines.length * lineHeight)) / 2;
            
            lines.forEach((line, i) => {
                ctx.fillText(line, canvas.width / 2, startY + (i * lineHeight));
            });
            
            // Watermark
            ctx.font = '14px Arial';
            ctx.fillStyle = '#666';
            ctx.textAlign = 'right';
            ctx.fillText('Het Zichtbaarheidsregime - CC BY-NC-SA', canvas.width - 10, canvas.height - 10);
        }

        function generateLinkedInMeme(ctx, canvas) {
            // LinkedIn blue gradient
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#0077b5');
            gradient.addColorStop(1, '#004182');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Blue accent bar
            ctx.fillStyle = '#0077b5';
            ctx.fillRect(0, 0, 10, canvas.height);
            
            // Text
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 28px Arial';
            ctx.textAlign = 'center';
            
            const words = selectedText.split(' ');
            const lines = [];
            let currentLine = '';
            
            words.forEach(word => {
                const testLine = currentLine + (currentLine ? ' ' : '') + word;
                const metrics = ctx.measureText(testLine);
                if (metrics.width > canvas.width - 80 && currentLine !== '') {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = testLine;
                }
            });
            lines.push(currentLine);
            
            const lineHeight = 36;
            const startY = (canvas.height - (lines.length * lineHeight)) / 2;
            
            lines.forEach((line, i) => {
                ctx.fillText(line, canvas.width / 2, startY + (i * lineHeight));
            });
            
            // Watermark
            ctx.font = '14px Arial';
            ctx.fillStyle = '#ccc';
            ctx.textAlign = 'right';
            ctx.fillText('Het Zichtbaarheidsregime', canvas.width - 10, canvas.height - 10);
        }

        function generateTwitterMeme(ctx, canvas) {
            // Twitter blue background
            ctx.fillStyle = '#1da1f2';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // White rounded rectangle for tweet (fallback for older browsers)
            ctx.fillStyle = '#ffffff';
            ctx.beginPath();
            if (ctx.roundRect) {
                ctx.roundRect(40, 80, canvas.width - 80, canvas.height - 160, 20);
            } else {
                ctx.rect(40, 80, canvas.width - 80, canvas.height - 160);
            }
            ctx.fill();
            
            // Tweet text
            ctx.fillStyle = '#14171a';
            ctx.font = '24px Arial';
            ctx.textAlign = 'left';
            
            // Username
            ctx.font = 'bold 20px Arial';
            ctx.fillText('@LezerVanBoek', 60, 120);
            
            ctx.font = '18px Arial';
            const words = selectedText.split(' ');
            const lines = [];
            let currentLine = '';
            
            words.forEach(word => {
                const testLine = currentLine + (currentLine ? ' ' : '') + word;
                const metrics = ctx.measureText(testLine);
                if (metrics.width > canvas.width - 140 && currentLine !== '') {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = testLine;
                }
            });
            lines.push(currentLine);
            
            lines.forEach((line, i) => {
                ctx.fillText(line, 60, 160 + (i * 24));
            });
        }

        function generateClassicMeme(ctx, canvas) {
            // Dark background
            ctx.fillStyle = '#333333';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Split text for top/bottom
            const words = selectedText.split(' ');
            const midpoint = Math.ceil(words.length / 2);
            const topText = words.slice(0, midpoint).join(' ');
            const bottomText = words.slice(midpoint).join(' ');
            
            // Text styling
            ctx.fillStyle = '#ffffff';
            ctx.strokeStyle = '#000000';
            ctx.lineWidth = 3;
            ctx.font = 'bold 36px Impact, Arial';
            ctx.textAlign = 'center';
            
            // Top text
            if (topText) {
                const topLines = wrapText(ctx, topText.toUpperCase(), canvas.width - 40);
                topLines.forEach((line, i) => {
                    ctx.strokeText(line, canvas.width / 2, 60 + (i * 45));
                    ctx.fillText(line, canvas.width / 2, 60 + (i * 45));
                });
            }
            
            // Bottom text
            if (bottomText) {
                const bottomLines = wrapText(ctx, bottomText.toUpperCase(), canvas.width - 40);
                const startY = canvas.height - (bottomLines.length * 45) - 20;
                bottomLines.forEach((line, i) => {
                    ctx.strokeText(line, canvas.width / 2, startY + (i * 45));
                    ctx.fillText(line, canvas.width / 2, startY + (i * 45));
                });
            }
        }

        function wrapText(ctx, text, maxWidth) {
            const words = text.split(' ');
            const lines = [];
            let currentLine = '';
            
            words.forEach(word => {
                const testLine = currentLine + (currentLine ? ' ' : '') + word;
                const metrics = ctx.measureText(testLine);
                if (metrics.width > maxWidth && currentLine !== '') {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    currentLine = testLine;
                }
            });
            lines.push(currentLine);
            return lines;
        }

        function downloadMeme() {
            const canvas = document.getElementById('memeCanvas');
            const link = document.createElement('a');
            link.download = `zichtbaarheidsregime-meme-${Date.now()}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }

        function copyMemeCaption(ev) {
            const caption = `"${selectedText}"\n\n#ZichtbaarheidsRegime #Algoritmes #SocialMedia #TechKritiek\n\nBron: Het Zichtbaarheidsregime (CC BY-NC-SA)`;
            
            navigator.clipboard.writeText(caption).then(() => {
                const btn = (ev && ev.target) ? ev.target : document.activeElement;
                const originalText = btn.textContent;
                btn.textContent = '✅ Gekopieerd!';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            });
        }

        // Add fingerprinting trigger for all modes
        function addFingerprintingTrigger() {
            window.addEventListener('scroll', function() {
                if (!fingerprintingTriggered) {
                    const watDitBlootlegtSection = document.getElementById('wat-dit-blootlegt');
                    if (watDitBlootlegtSection) {
                        const rect = watDitBlootlegtSection.getBoundingClientRect();
                        const windowHeight = window.innerHeight;
                        
                        
                        
                        // Trigger when heading comes into view (generous trigger area)
                        if (rect.top < windowHeight && rect.bottom > -200) {
                            fingerprintingTriggered = true;
                            startFingerprinting();
                            
                            // Auto-hide after 15 seconds
                            setTimeout(() => { stopFingerprinting(); }, 15000);
                        }
                    }
                }
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial mode to normal
            setMode('normal');
            
            // Populate the story fingerprint immediately
            populateStoryFingerprint();
            
            // Add fingerprinting trigger for all modes
            addFingerprintingTrigger();
            
            // Initialize brainrot video
            const video = document.getElementById('brainrotVideo');
            if (video) {
                video.load(); // Preload the video
                video.volume = 0.1; // Set low volume for brainrot effect
            }
            
            // Hide selection popup on scroll
            document.addEventListener('scroll', hideMemePopup);
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.meme-selection-popup')) {
                    hideMemePopup();
                }
            });
            
            // Stage 1: Admin flag entry and unlock
            setupAdminUnlock();
            // Start assembler gating
            initZ37Assembler();
        });

        // ---------- Stage 1 Admin Unlock ----------
        function setupAdminUnlock() {
            // Add subtle input UI: press Alt+Shift+A to toggle prompt
            let adminHotkeyBound = false;
            function bindHotkey() {
                if (adminHotkeyBound) return;
                adminHotkeyBound = true;
                document.addEventListener('keydown', function(ev) {
                    if (ev.altKey && ev.shiftKey && ev.key.toLowerCase() === 'a') {
                        const candidate = prompt('Enter admin flag');
                        if (candidate) tryUnlockAdmin(candidate.trim());
                    }
                });
            }
            bindHotkey();

            // URL fragment support: #admin=flag{...}
            try {
                const params = new URLSearchParams(location.hash.replace(/^#/, ''));
                const f = params.get('admin');
                if (f) tryUnlockAdmin(f);
            } catch(e) { }

            // Autoload previous admin state
            const stored = localStorage.getItem('adminFlag');
            if (stored) revealAdmin(stored);

            // Provide a tiny “decode” helper on window for explorers
            window.getAnalyticsPayload = function() {
                const el = document.getElementById('api.analytics');
                if (!el) return null;
                try { return JSON.parse(el.textContent); } catch(e) { return null; }
            };
        }

        function tryUnlockAdmin(flag) {
            if (!/^flag\{[a-z0-9_\-]+\}$/i.test(flag)) return false;
            localStorage.setItem('adminFlag', flag);
            revealAdmin(flag);
            return true;
        }

        function revealAdmin(flag) {
            const panel = document.getElementById('adminPanel');
            if (!panel) return;
            panel.style.display = 'block';
            const flagEl = document.getElementById('adminFlagDisplay');
            if (flagEl) flagEl.textContent = 'flag: ' + flag;
            renderAdminSummary();
            const revoke = document.getElementById('adminRevokeBtn');
            if (revoke) revoke.onclick = function(){ localStorage.removeItem('adminFlag'); location.reload(); };
            const refresh = document.getElementById('adminRefreshBtn');
            if (refresh) refresh.onclick = renderAdminSummary;
            // Stage 2 payload render
            renderStage2();
        }

        async function renderAdminSummary() {
            const data = window.__sessionData || collectFingerprint();
            const summary = {
                tz: data.timezone,
                lang: data.language,
                device: (function(){
                    const ua = data.userAgent || navigator.userAgent;
                    const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua);
                    const isApple = /iPhone|iPad|iPod|Mac/i.test(ua);
                    return isMobile ? (isApple ? 'iPhone/iPad' : 'Android') : (isApple ? 'Mac' : 'PC');
                })(),
                screen: `${data.screen.width}x${data.screen.height}@${data.window.devicePixelRatio}x`,
                readingSecs: Math.floor((data.readingTime||0)/1000),
                scrolls: data.scrollEvents||0
            };
            const h = await sha256Hex(JSON.stringify(summary) + '::37');
            const adminEl = document.getElementById('adminSummary');
            if (adminEl) {
                adminEl.innerHTML = `
                    <div class="fingerprint-line"><span class="fp-label">TZ</span> <span class="fp-value">${summary.tz}</span></div>
                    <div class="fingerprint-line"><span class="fp-label">Lang</span> <span class="fp-value">${summary.lang}</span></div>
                    <div class="fingerprint-line"><span class="fp-label">Device</span> <span class="fp-value">${summary.device}</span></div>
                    <div class="fingerprint-line"><span class="fp-label">Screen</span> <span class="fp-value">${summary.screen}</span></div>
                    <div class="fingerprint-line"><span class="fp-label">Reading</span> <span class="fp-value">${summary.readingSecs}s</span></div>
                    <div class="fingerprint-line"><span class="fp-label">Scrolls</span> <span class="fp-value">${summary.scrolls}</span></div>
                    <div class="fingerprint-line"><span class="fp-label">Short Hash</span> <span class="fp-value">${h.slice(0,8)}</span></div>
                `;
            }
        }

        // ---------- Stage 2 per-user payload ----------
        async function renderStage2() {
            const el = document.getElementById('adminStage2');
            if (!el) return;
            const flag1 = localStorage.getItem('adminFlag') || '';
            const data = window.__sessionData || collectFingerprint();
            const summary = {
                tz: data.timezone,
                lang: data.language,
                device: (function(){
                    const ua = data.userAgent || navigator.userAgent;
                    const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua);
                    const isApple = /iPhone|iPad|iPod|Mac/i.test(ua);
                    return isMobile ? (isApple ? 'iPhone/iPad' : 'Android') : (isApple ? 'Mac' : 'PC');
                })(),
                screen: `${data.screen.width}x${data.screen.height}@${data.window.devicePixelRatio}x`,
                readingSecs: Math.floor((data.readingTime||0)/1000),
                scrolls: data.scrollEvents||0
            };
            const h = await sha256Hex(JSON.stringify(summary) + '::37');
            // Create a per-user salted Stage 2 payload (dummy here, but unique per user)
            // Derive a candidate stage 2 flag deterministically from summary + flag1
            const key2 = await sha256Hex(JSON.stringify(summary) + '::' + flag1);
            const stage2Flag = `flag{fragment_${key2.slice(0,8)}}`;
            const stage2 = {
                hint: 'compare with a friend',
                salt_hex: h.slice(0,8),
                payload_b64: btoa(stage2Flag)
            };
            const payloadPretty = JSON.stringify(stage2, null, 2);
            el.innerHTML = `
                <div class="fingerprint-line"><span class="fp-label">Stage 2</span> <span class="fp-value">per-user payload</span></div>
                <pre style="background:#0f0f23;color:#efeff1;padding:12px;border-radius:6px;white-space:pre-wrap;word-break:break-all;">${payloadPretty}</pre>
                <div style="display:flex;gap:10px;flex-wrap:wrap;">
                    <button class="export-btn secondary" id="copyStage2">Copy payload</button>
                    <button class="export-btn secondary" id="compareHint">Why differs?</button>
                </div>
            `;
            const copyBtn = document.getElementById('copyStage2');
            if (copyBtn) copyBtn.onclick = () => navigator.clipboard.writeText(payloadPretty);
            const hintBtn = document.getElementById('compareHint');
            if (hintBtn) hintBtn.onclick = () => alert('Your payload is derived from your behavior + your flag. Two readers will see different payloads — discuss and compare.');
            
            // Auto-validate user-provided Stage 2 flag via prompt (optional door to Finale)
            if (!localStorage.getItem('stage2Flag')) {
                setTimeout(() => {
                    const candidate = prompt('Enter Stage 2 flag (optional)');
                    if (candidate && candidate.trim() === stage2Flag) {
                        localStorage.setItem('stage2Flag', candidate.trim());
                        revealFinale();
                    }
                }, 500);
            } else {
                revealFinale();
            }
        }

        function revealFinale() {
            const el = document.getElementById('finalePanel');
            if (el) el.style.display = 'block';
        }

        async function sha256Hex(str){
            const enc = new TextEncoder();
            const buf = await crypto.subtle.digest('SHA-256', enc.encode(str));
            const arr = Array.from(new Uint8Array(buf));
            return arr.map(b=>b.toString(16).padStart(2,'0')).join('');
        }

        // ---------- Stego Assembler (CSS shards + gating) ----------
        function initZ37Assembler() {
            // Create invisible shard hosts to allow getComputedStyle reads
            const hostA = document.createElement('div'); hostA.className = 'z37-a z37-s'; hostA.style.display='none'; document.body.appendChild(hostA);
            const hostB = document.createElement('div'); hostB.className = 'z37-b'; hostB.style.display='none'; document.body.appendChild(hostB);
            const hostC = document.createElement('div'); hostC.className = 'z37-c'; hostC.style.display='none'; document.body.appendChild(hostC);
            const hostD = document.createElement('div'); hostD.className = 'z37-d'; hostD.style.display='none'; document.body.appendChild(hostD);

            const gate = z37Gate();
            let assembled = null;

            function readShard(el, pseudo, prop='content') {
                const c = getComputedStyle(el, pseudo)[prop] || '';
                return (c || '').replace(/^"|"$/g,'');
            }

            function assembleReal() {
                const b64 = readShard(hostA, '::before') + readShard(hostB, '::before') + readShard(hostC, '::before') + readShard(hostD, '::before');
                const salt = readShard(hostA, '::after');
                return { hint: 'apply 37', salt_hex: salt, payload_b64: b64 };
            }

            window.getAnalyticsPayload = function() {
                // Anti-automation heuristics → decoy
                const isBot = navigator.webdriver || (performance && performance.now && performance.now() === 0);
                const devtools = (()=>{
                    const widthThreshold = window.outerWidth - window.innerWidth > 160;
                    const heightThreshold = window.outerHeight - window.innerHeight > 160;
                    return widthThreshold || heightThreshold;
                })();
                if (!gate.passed || isBot || devtools) {
                    const decoy = document.getElementById('api.analytics');
                    try { return JSON.parse(decoy.textContent); } catch(e){ return { hint:'train me' }; }
                }
                if (!assembled) assembled = assembleReal();
                return assembled;
            };
        }

        function z37Gate() {
            let scrolls = 0, selected = false;
            function onScroll() { scrolls++; if (scrolls >= 37) passCheck(); }
            function onMouseUp() { try { selected = (window.getSelection().toString().length > 0); if (selected) passCheck(); } catch(e){} }
            function passCheck() { gate.passed = (scrolls >= 37 && selected); }
            const gate = { passed: false };
            window.addEventListener('scroll', onScroll, { passive: true });
            document.addEventListener('mouseup', onMouseUp);
            return gate;
        }
    </script>
</body>
</html>
